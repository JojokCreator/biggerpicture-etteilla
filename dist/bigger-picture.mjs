var t,e;function n(){}const o=t=>t;function r(t,e){for(const n in e)t[n]=e[n];return t}function i(t){return t()}function l(){return Object.create(null)}function s(t){t.forEach(i)}function c(t){return"function"==typeof t}function u(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}let a;function d(t,e){return a||(a=document.createElement("a")),a.href=e,t===a.href}function f(t,e){return t!=t?e==e:t!==e}function p(t,e,o){t.$$.on_destroy.push(((t,...e)=>{if(null==t)return n;const o=t.subscribe(...e);return o.unsubscribe?()=>o.unsubscribe():o})(e,o))}function m(t,e,n){return t.set(n),e}function h(t){return t&&c(t.destroy)?t.destroy:n}const g="undefined"!=typeof window;let $=g?()=>window.performance.now():()=>Date.now(),v=g?t=>requestAnimationFrame(t):n;const y=new Set;function b(t){y.forEach((e=>{e.c(t)||(y.delete(e),e.f())})),0!==y.size&&v(b)}function x(t){let e;return 0===y.size&&v(b),{promise:new Promise((n=>{y.add(e={c:t,f:n})})),abort(){y.delete(e)}}}function w(t,e){t.appendChild(e)}function I(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function _(t){const e=D("style");return((t,e)=>{w(t.head||t,e)})(I(t),e),e.sheet}function k(t,e,n){t.insertBefore(e,n||null)}function C(t){t.parentNode.removeChild(t)}function E(t,e){for(let n=0;t.length>n;n+=1)t[n]&&t[n].d(e)}function D(t){return document.createElement(t)}function z(t){return document.createTextNode(t)}function H(){return z(" ")}function M(){return z("")}function S(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function A(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function T(t,e){const n=Object.getOwnPropertyDescriptors(t.__proto__);for(const o in e)null==e[o]?t.removeAttribute(o):"style"===o?t.style.cssText=e[o]:"__value"===o?t.value=t[o]=e[o]:n[o]&&n[o].set?t[o]=e[o]:A(t,o,e[o])}function L(t,e){t.wholeText!==(e=""+e)&&(t.data=e)}function W(t,e,n,o){null===n?t.style.removeProperty(e):t.style.setProperty(e,n,o?"important":"")}function N(t,e,n){t.classList[n?"add":"remove"](e)}const O=new Map;let R,Y=0;function P(t,e,n,o,r,i,l,s=0){const c=16.666/o;let u="{\n";for(let t=0;1>=t;t+=c){const o=e+(n-e)*i(t);u+=100*t+`%{${l(o,1-o)}}\n`}const a=u+`100% {${l(n,1-n)}}\n}`,d=`__svelte_${(t=>{let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0})(a)}_${s}`,f=I(t),{stylesheet:p,rules:m}=O.get(f)||((t,e)=>{const n={stylesheet:_(e),rules:{}};return O.set(t,n),n})(f,t);m[d]||(m[d]=1,p.insertRule(`@keyframes ${d} ${a}`,p.cssRules.length));const h=t.style.animation||"";return t.style.animation=`${h?h+", ":""}${d} ${o}ms linear ${r}ms 1 both`,Y+=1,d}function B(t,e){const n=(t.style.animation||"").split(", "),o=n.filter(e?t=>0>t.indexOf(e):t=>-1===t.indexOf("__svelte")),r=n.length-o.length;r&&(t.style.animation=o.join(", "),Y-=r,Y||v((()=>{Y||(O.forEach((t=>{const{stylesheet:e}=t;let n=e.cssRules.length;for(;n--;)e.deleteRule(n);t.rules={}})),O.clear())})))}function j(t){R=t}const X=[],q=[],U=[],F=[],J=Promise.resolve();let K=0;function G(t){U.push(t)}const Q=new Set;let V,Z=0;function tt(){const t=R;do{for(;X.length>Z;){const t=X[Z];Z++,j(t),et(t.$$)}for(j(null),X.length=0,Z=0;q.length;)q.pop()();for(let t=0;U.length>t;t+=1){const e=U[t];Q.has(e)||(Q.add(e),e())}U.length=0}while(X.length);for(;F.length;)F.pop()();K=0,Q.clear(),j(t)}function et(t){if(null!==t.fragment){t.update(),s(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(G)}}function nt(){return V||(V=Promise.resolve(),V.then((()=>{V=null}))),V}function ot(t,e,n){t.dispatchEvent(((t,e,n=0)=>{const o=document.createEvent("CustomEvent");return o.initCustomEvent(t,n,0,e),o})(`${e?"intro":"outro"}${n}`))}const rt=new Set;let it;function lt(){it={r:0,c:[],p:it}}function st(){it.r||s(it.c),it=it.p}function ct(t,e){t&&t.i&&(rt.delete(t),t.i(e))}function ut(t,e,n,o){if(t&&t.o){if(rt.has(t))return;rt.add(t),it.c.push((()=>{rt.delete(t),o&&(n&&t.d(1),o())})),t.o(e)}}const at={duration:0};function dt(t,e,r){let i,l,s=e(t,r),u=0,a=0;function d(){i&&B(t,i)}function f(){const{delay:e=0,duration:r=300,easing:c=o,tick:f=n,css:p}=s||at;p&&(i=P(t,0,1,r,e,c,p,a++)),f(0,1);const m=$()+e,h=m+r;l&&l.abort(),u=1,G((()=>ot(t,1,"start"))),l=x((e=>{if(u){if(e>=h)return f(1,0),ot(t,1,"end"),d(),u=0;if(e>=m){const t=c((e-m)/r);f(t,1-t)}}return u}))}let p=0;return{start(){p||(p=1,B(t),c(s)?(s=s(),nt().then(f)):f())},invalidate(){p=0},end(){u&&(d(),u=0)}}}function ft(t,e,r){let i,l=e(t,r),u=1;const a=it;function d(){const{delay:e=0,duration:r=300,easing:c=o,tick:d=n,css:f}=l||at;f&&(i=P(t,1,0,r,e,c,f));const p=$()+e,m=p+r;G((()=>ot(t,0,"start"))),x((e=>{if(u){if(e>=m)return d(0,1),ot(t,0,"end"),--a.r||s(a.c),0;if(e>=p){const t=c((e-p)/r);d(1-t,t)}}return u}))}return a.r+=1,c(l)?nt().then((()=>{l=l(),d()})):d(),{end(e){e&&l.tick&&l.tick(1,0),u&&(i&&B(t,i),u=0)}}}function pt(t,e,r,i){let l=e(t,r),u=i?0:1,a=null,d=null,f=null;function p(){f&&B(t,f)}function m(t,e){const n=t.b-u;return{a:u,b:t.b,d:n,duration:e*=Math.abs(n),start:t.start,end:t.start+e,group:t.group}}function h(e){const{delay:r=0,duration:i=300,easing:c=o,tick:h=n,css:g}=l||at,v={start:$()+r,b:e};e||(v.group=it,it.r+=1),a||d?d=v:(g&&(p(),f=P(t,u,e,i,r,c,g)),e&&h(0,1),a=m(v,i),G((()=>ot(t,e,"start"))),x((e=>(d&&e>d.start&&(a=m(d,i),d=null,ot(t,a.b,"start"),g&&(p(),f=P(t,u,a.b,a.duration,0,c,l.css))),a&&(a.end>e?a.start>e||(u=a.a+a.d*c((e-a.start)/a.duration),h(u,1-u)):(h(u=a.b,1-u),ot(t,a.b,"end"),d||(a.b?p():--a.group.r||s(a.group.c)),a=null)),!(!a&&!d)))))}return{run(t){c(l)?nt().then((()=>{l=l(),h(t)})):h(t)},end(){p(),a=d=null}}}const mt="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;function ht(t,e){const n={},o={},r={$$scope:1};let i=t.length;for(;i--;){const l=t[i],s=e[i];if(s){for(const t in l)t in s||(o[t]=1);for(const t in s)r[t]||(n[t]=s[t],r[t]=1);t[i]=s}else for(const t in l)r[t]=1}for(const t in o)t in n||(n[t]=void 0);return n}function gt(t){t&&t.c()}function $t(t,e,n,o){const{fragment:r,on_mount:l,on_destroy:u,after_update:a}=t.$$;r&&r.m(e,n),o||G((()=>{const e=l.map(i).filter(c);u?u.push(...e):s(e),t.$$.on_mount=[]})),a.forEach(G)}function vt(t,e){const n=t.$$;null!==n.fragment&&(s(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function yt(t,e,o,r,i,c,u,a=[-1]){const d=R;j(t);const f=t.$$={fragment:null,ctx:null,props:c,update:n,not_equal:i,bound:l(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(d?d.$$.context:[])),callbacks:l(),dirty:a,skip_bound:0,root:e.target||d.$$.root};u&&u(f.root);let p=0;f.ctx=o?o(t,e.props||{},((e,n,...o)=>{const r=o.length?o[0]:n;return f.ctx&&i(f.ctx[e],f.ctx[e]=r)&&(!f.skip_bound&&f.bound[e]&&f.bound[e](r),p&&function(t,e){-1===t.$$.dirty[0]&&(X.push(t),K||(K=1,J.then(tt)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}(t,e)),n})):[],f.update(),p=1,s(f.before_update),f.fragment=r?r(f.ctx):0,e.target&&(f.fragment&&f.fragment.c(),e.intro&&ct(t.$$.fragment),$t(t,e.target,e.anchor,e.customElement),tt()),j(d)}class bt{$destroy(){vt(this,1),this.$destroy=n}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){this.$$set&&0!==Object.keys(t).length&&(this.$$.skip_bound=1,this.$$set(t),this.$$.skip_bound=0)}}function xt(t){const e=t-1;return e*e*e+1}function wt(t,{delay:e=0,duration:n=400,easing:r=o}={}){const i=+getComputedStyle(t).opacity;return{delay:e,duration:n,easing:r,css:t=>"opacity: "+t*i}}function It(t,{delay:e=0,duration:n=400,easing:o=xt,x:r=0,y:i=0,opacity:l=0}={}){const s=getComputedStyle(t),c=+s.opacity,u="none"===s.transform?"":s.transform,a=c*(1-l);return{delay:e,duration:n,easing:o,css:(t,e)=>`\n\t\t\ttransform: ${u} translate(${(1-t)*r}px, ${(1-t)*i}px);\n\t\t\topacity: ${c-a*e}`}}const _t=[];function kt(t,e=n){let o;const r=new Set;function i(e){if(u(t,e)&&(t=e,o)){const e=!_t.length;for(const e of r)e[1](),_t.push(e,t);if(e){for(let t=0;_t.length>t;t+=2)_t[t][0](_t[t+1]);_t.length=0}}}return{set:i,update(e){i(e(t))},subscribe(l,s=n){const c=[l,s];return r.add(c),1===r.size&&(o=e(i)||n),l(t),()=>{r.delete(c),0===r.size&&(o(),o=null)}}}}function Ct(t,e){if(t===e||t!=t)return()=>t;const n=typeof t;if(Array.isArray(t)){const n=e.map(((e,n)=>Ct(t[n],e)));return t=>n.map((e=>e(t)))}if("number"===n){const n=e-t;return e=>t+e*n}}function Et(t,e={}){const n=kt(t);let i,l=t;function s(s,c){if(null==t)return n.set(t=s),Promise.resolve();l=s;let u=i,a=0,{delay:d=0,duration:f=400,easing:p=o,interpolate:m=Ct}=r(r({},e),c);if(0===f)return u&&(u.abort(),u=null),n.set(t=l),Promise.resolve();const h=$()+d;let g;return i=x((e=>{if(h>e)return 1;a||(g=m(t,s),"function"==typeof f&&(f=f(t,s)),a=1),u&&(u.abort(),u=null);const o=e-h;return o>f?(n.set(t=s),0):(n.set(t=g(p(o/f))),1)})),i.promise}return{set:s,update:(e,n)=>s(e(l,t),n),subscribe:n.subscribe}}const Dt=kt(0),zt=kt(0);function Ht(t){let e,n,o,r,i=!t[2]&&Mt();return{c(){e=D("div"),i&&i.c(),A(e,"class","bp-load"),W(e,"background-image","url("+t[0]+")")},m(t,n){k(t,e,n),i&&i.m(e,null),r=1},p(n,o){(t=n)[2]?i&&(i.d(1),i=null):i||(i=Mt(),i.c(),i.m(e,null)),(!r||1&o)&&W(e,"background-image","url("+t[0]+")")},i(i){r||(G((()=>{o&&o.end(1),n=dt(e,wt,{duration:t[2]?300:0}),n.start()})),r=1)},o(t){n&&n.invalidate(),t&&(o=ft(e,wt,{duration:200})),r=0},d(t){t&&C(e),i&&i.d(),t&&o&&o.end()}}}function Mt(t){let e,n,o;return{c(){e=D("span"),n=H(),o=D("span"),A(e,"class","bp-bar"),A(o,"class","bp-o")},m(t,r){k(t,e,r),k(t,n,r),k(t,o,r)},d(t){t&&C(e),t&&C(n),t&&C(o)}}}function St(t){let e,n=(!t[1]||t[2])&&Ht(t);return{c(){n&&n.c(),e=M()},m(t,o){n&&n.m(t,o),k(t,e,o)},p(t,[o]){!t[1]||t[2]?n?(n.p(t,o),6&o&&ct(n,1)):(n=Ht(t),n.c(),ct(n,1),n.m(e.parentNode,e)):n&&(lt(),ut(n,1,1,(()=>{n=null})),st())},i(t){ct(n)},o(t){ut(n)},d(t){n&&n.d(t),t&&C(e)}}}function At(t,e,n){let o;p(t,Dt,(t=>n(2,o=t)));let{thumb:r}=e,{loaded:i}=e;return t.$$set=t=>{"thumb"in t&&n(0,r=t.thumb),"loaded"in t&&n(1,i=t.loaded)},[r,i,o]}class Tt extends bt{constructor(t){super(),yt(this,t,At,St,u,{thumb:0,loaded:1})}}function Lt(t){let e,o,r,i;return{c(){e=D("img"),d(e.src,o=t[4])||A(e,"src",o),A(e,"alt",t[6])},m(t,n){k(t,e,n),i=1},p:n,i(t){i||(r&&r.end(1),i=1)},o(t){r=ft(e,wt,{}),i=0},d(t){t&&C(e),t&&r&&r.end()}}}function Wt(t){let e,n,o,r,i,l,c;o=new Tt({props:{thumb:t[5],loaded:t[1]}});let u=t[1]&&Lt(t);return{c(){e=D("div"),n=D("div"),gt(o.$$.fragment),r=H(),u&&u.c(),W(n,"background-image","url("+t[5]+")"),W(n,"transform","translate3d("+t[3][0]+"px, "+t[3][1]+"px, 0px)"),A(e,"class","bp-item bp-img"),W(e,"width",t[0][0]+"px"),W(e,"height",t[0][1]+"px"),N(e,"dragging",t[2])},m(s,a){k(s,e,a),w(e,n),$t(o,n,null),w(n,r),u&&u.m(n,null),i=1,l||(c=[S(window,"resize",t[21]),S(n,"wheel",t[9]),S(n,"pointerdown",t[10]),S(n,"pointermove",t[11]),S(n,"pointerup",t[12]),S(n,"pointercancel",t[12]),h(t[14].call(null,e))],l=1)},p(t,r){const l={};2&r[0]&&(l.loaded=t[1]),o.$set(l),t[1]?u?(u.p(t,r),2&r[0]&&ct(u,1)):(u=Lt(t),u.c(),ct(u,1),u.m(n,null)):u&&(lt(),ut(u,1,1,(()=>{u=null})),st()),(!i||8&r[0])&&W(n,"transform","translate3d("+t[3][0]+"px, "+t[3][1]+"px, 0px)"),(!i||1&r[0])&&W(e,"width",t[0][0]+"px"),(!i||1&r[0])&&W(e,"height",t[0][1]+"px"),4&r[0]&&N(e,"dragging",t[2])},i(t){i||(ct(o.$$.fragment,t),ct(u),i=1)},o(t){ut(o.$$.fragment,t),ut(u),i=0},d(t){t&&C(e),vt(o),u&&u.d(),l=0,s(c)}}}function Nt(t,e,n){let o,r,i,l;p(t,zt,(t=>n(33,i=t))),p(t,Dt,(t=>n(20,l=t)));let s,c,u,a,d,f,h,g,$,v,{stuff:y}=e,{containerWidth:b}=e,{containerHeight:x}=e,{smallScreen:w}=e,{activeItem:I,calculateDimensions:_,loadImage:k,preloadNext:C,opts:E,prev:D,next:z,close:H,toggleControls:M}=y,{img:S,thumb:A,alt:T,width:L,height:W}=I,{inline:N}=E,O=+L,R=+W,Y=_(O,R),P=[],B=[],j=0;const X=Et(Y,{easing:xt});p(t,X,(t=>n(0,r=t)));const q=Et([0,0],{easing:xt});p(t,q,(t=>n(3,o=t)));const U=([t,e])=>{let n=(r[0]-b)/2,o=(r[1]-x)/2;return 0>n?t=0:t>n?w?(t=a?n+(t-n)/10:n)>n+20&&(u=1,D()):t=n:-1*n>t&&(w?-1*n-20>(t=a?-1*n-(-1*n-t)/10:-1*n)&&(u=1,z()):t=-1*n),0>o?e=0:e>o?e=o:-1*o>e&&(e=-1*o),[t,e]},F=(t,e=5)=>{let n=r[0]+r[0]*e,i=r[1]+r[1]*e;if(e>0&&n>O)n=O,i=R;else if(0>e){let t=_(O,R);if(t[0]>n)return m(X,r=t,r),void m(q,o=[0,0],o)}if(m(X,r=[n,i],r),1>e)return void m(q,o=U(o),o);let{x:l,y:s,width:c,height:u}=t.target.getBoundingClientRect(),a=t.clientX-l-c/2,d=t.clientY-s-u/2;l=-1*a*(n/c)+a,s=-1*d*(i/u)+d,m(q,o=U([l,s]),o)},J=t=>[t.clientX,t.clientY],K=()=>{n(19,Y=_(O,R)),w||(m(X,r=Y,r),m(q,o=[0,0],o))};return t.$$set=t=>{"stuff"in t&&n(15,y=t.stuff),"containerWidth"in t&&n(16,b=t.containerWidth),"containerHeight"in t&&n(17,x=t.containerHeight),"smallScreen"in t&&n(18,w=t.smallScreen)},t.$$.update=()=>{524289&t.$$.dirty[0]&&m(zt,i=r[0]>Y[0],i),1048576&t.$$.dirty[0]&&l&&!E.intro&&m(q,o=[0,0],o)},[r,s,a,o,S,A,T,X,q,t=>{N&&!i||(t.preventDefault(),F(t,0>t.deltaY?.2:-.2))},t=>{if(2!==t.button){t.preventDefault(),n(2,a=1),P.push(t);let[e,r]=J(t);f=e,h=r,g=o[0],$=o[1]}},t=>{if(P.length>1)return c=1,n(2,a=0),(t=>{P=P.map((e=>e.pointerId==t.pointerId?t:e));let[e,n]=P,o=Math.hypot(e.clientX-n.clientX,e.clientY-n.clientY);j||(j=o),F(t,-.02*(j-o)),j=o})(t);if(u||!a)return;let[e,o]=J(t);B.push({x:e,y:o}),e-=f,o-=h,i||(e>40&&(D(),u=1),-40>e&&(z(),u=1),-90>o&&!N&&(H(),u=1)),i&&Math.hypot(e,o)>10&&(d=1,q.set(U([g+e,$+o]),{duration:0}))},t=>{if(P=P.filter((e=>e.pointerId!=t.pointerId)),c)return c=P.length?1:0,void(j=0);if(!u&&a){if(n(2,a=0),w?d||(v?(clearTimeout(v),F(t,i?-5:5),v=0):v=setTimeout((()=>{M(),v=0}),250)):i?d||F(t,-5):3>B.length&&!i&&F(t),d){let t;B=B.slice(-3);let e=B[1].x-B[2].x,n=B[1].y-B[2].y;Math.hypot(e,n)>5?(e=B[0].x-B[2].x,n=B[0].y-B[2].y,t=[o[0]-5*e,o[1]-5*n]):t=o,m(q,o=U(t),o)}d=0,B=[]}},K,()=>{k(I).then((()=>{n(1,s=1),C()}))},y,b,x,w,Y,l,()=>setTimeout(K,0)]}class Ot extends bt{constructor(t){super(),yt(this,t,Nt,Wt,u,{stuff:15,containerWidth:16,containerHeight:17,smallScreen:18},null,[-1,-1])}}function Rt(t){let e,n,o,r,i,l,c,u;return i=new Tt({props:{thumb:t[3],loaded:t[0]}}),{c(){e=D("div"),n=D("iframe"),r=H(),gt(i.$$.fragment),A(n,"allow","autoplay; fullscreen"),d(n.src,o=t[2])||A(n,"src",o),A(n,"title",t[4]),A(e,"class","bp-item bp-if"),W(e,"width",t[1][0]+"px"),W(e,"height",t[1][1]+"px")},m(o,s){k(o,e,s),w(e,n),w(e,r),$t(i,e,null),l=1,c||(u=[S(window,"resize",t[5]),S(n,"load",t[8])],c=1)},p(t,[n]){const o={};1&n&&(o.loaded=t[0]),i.$set(o),(!l||2&n)&&W(e,"width",t[1][0]+"px"),(!l||2&n)&&W(e,"height",t[1][1]+"px")},i(t){l||(ct(i.$$.fragment,t),l=1)},o(t){ut(i.$$.fragment,t),l=0},d(t){t&&C(e),vt(i),c=0,s(u)}}}function Yt(t,e,n){let o,r,{activeItem:i}=e,{calculateDimensions:l}=e,{iframe:s,thumb:c,title:u}=i;const a=()=>{n(1,r=l(i.width,i.height))};return a(),t.$$set=t=>{"activeItem"in t&&n(6,i=t.activeItem),"calculateDimensions"in t&&n(7,l=t.calculateDimensions)},[o,r,s,c,u,a,i,l,()=>n(0,o=1)]}class Pt extends bt{constructor(t){super(),yt(this,t,Yt,Rt,u,{activeItem:6,calculateDimensions:7})}}function Bt(t,e,n){const o=t.slice();return o[11]=e[n],o}function jt(t,e,n){const o=t.slice();return o[14]=e[n],o}function Xt(t){let e,n=[t[14]],o={};for(let t=0;n.length>t;t+=1)o=r(o,n[t]);return{c(){e=D("source"),T(e,o)},m(t,n){k(t,e,n)},p(t,r){T(e,o=ht(n,[4&r&&t[14]]))},d(t){t&&C(e)}}}function qt(t){let e,n=[t[11]],o={};for(let t=0;n.length>t;t+=1)o=r(o,n[t]);return{c(){e=D("track"),T(e,o)},m(t,n){k(t,e,n)},p(t,r){T(e,o=ht(n,[8&r&&t[11]]))},d(t){t&&C(e)}}}function Ut(t){let e,n,o,r,i,l,c,u,a=t[2],d=[];for(let e=0;a.length>e;e+=1)d[e]=Xt(jt(t,a,e));let f=t[3],p=[];for(let e=0;f.length>e;e+=1)p[e]=qt(Bt(t,f,e));return i=new Tt({props:{thumb:t[5],loaded:t[1]}}),{c(){e=D("div"),n=D("video");for(let t=0;d.length>t;t+=1)d[t].c();o=M();for(let t=0;p.length>t;t+=1)p[t].c();r=H(),gt(i.$$.fragment),n.playsInline=1,n.controls=1,n.autoplay=1,W(n,"width",t[4][0]+"px"),W(n,"height",t[4][1]+"px"),A(e,"class","bp-item bp-vid")},m(s,a){k(s,e,a),w(e,n);for(let t=0;d.length>t;t+=1)d[t].m(n,null);w(n,o);for(let t=0;p.length>t;t+=1)p[t].m(n,null);w(e,r),$t(i,e,null),l=1,c||(u=[S(window,"resize",t[9]),S(n,"loadeddata",t[10])],c=1)},p(t,[e]){if(4&e){let r;for(a=t[2],r=0;a.length>r;r+=1){const i=jt(t,a,r);d[r]?d[r].p(i,e):(d[r]=Xt(i),d[r].c(),d[r].m(n,o))}for(;d.length>r;r+=1)d[r].d(1);d.length=a.length}if(8&e){let o;for(f=t[3],o=0;f.length>o;o+=1){const r=Bt(t,f,o);p[o]?p[o].p(r,e):(p[o]=qt(r),p[o].c(),p[o].m(n,null))}for(;p.length>o;o+=1)p[o].d(1);p.length=f.length}(!l||16&e)&&W(n,"width",t[4][0]+"px"),(!l||16&e)&&W(n,"height",t[4][1]+"px");const r={};2&e&&(r.loaded=t[1]),i.$set(r)},i(t){l||(ct(i.$$.fragment,t),l=1)},o(t){ut(i.$$.fragment,t),l=0},d(t){t&&C(e),E(d,t),E(p,t),vt(i),c=0,s(u)}}}function Ft(t,e,n){let o,{activeItem:r}=e,{calculateDimensions:i}=e,{video:l,thumb:s,tracks:c=[],width:u,height:a}=r;l=Array.isArray(l)?l:l.split(", "),l=l.map((t=>({src:t,type:"video/"+t.match(/.(\w+)$/)[1]}))),c=Array.isArray(c)?c:JSON.parse(c);let d=i(u,a);return t.$$set=t=>{"activeItem"in t&&n(8,r=t.activeItem),"calculateDimensions"in t&&n(0,i=t.calculateDimensions)},[i,o,l,c,d,s,u,a,r,()=>n(4,d=i(u,a)),()=>n(1,o=1)]}class Jt extends bt{constructor(t){super(),yt(this,t,Ft,Ut,u,{activeItem:8,calculateDimensions:0})}}function Kt(t){let e;return{c(){e=D("div"),A(e,"class","bp-item bp-html"),W(e,"width",t[0]+"px")},m(n,o){k(n,e,o),e.innerHTML=t[1]},p:n,i:n,o:n,d(t){t&&C(e)}}}function Gt(t,e,n){let{activeItem:o}=e,{html:r,width:i}=o,l=document.getElementById(r).outerHTML;return t.$$set=t=>{"activeItem"in t&&n(2,o=t.activeItem)},[i,l,o]}class Qt extends bt{constructor(t){super(),yt(this,t,Gt,Kt,u,{activeItem:2})}}let Vt,Zt,{documentElement:te,body:ee}=document;const{window:ne}=mt;function oe(e){let o,r,i,l,c,u,a,d,p,m,g=e[7].u,$=ue(e),v=(!e[11]||!e[10])&&ae(e);return{c(){o=D("div"),r=D("div"),l=H(),$.c(),c=H(),v&&v.c(),A(o,"class","bp-wrap"),N(o,"zoomed",e[13]),N(o,"bp-inline",e[12])},m(n,i){var s;k(n,o,i),w(o,r),w(o,l),$.m(o,null),w(o,c),v&&v.m(o,null),e[27](o),d=1,p||(m=[h((s=o,t||(t=new ResizeObserver((t=>{for(const e of t)e.target.dispatchEvent(new CustomEvent("fd:resize"))}))),t.observe(s),u={destroy(){t.unobserve(s)}})),S(o,"fd:resize",e[26]),h(a=e[22].call(null,o))],p=1)},p(t,r){e=t,128&r[0]&&f(g,g=e[7].u)?(lt(),ut($,1,1,n),st(),$=ue(e),$.c(),ct($),$.m(o,c)):$.p(e,r),e[11]&&e[10]?v&&(lt(),ut(v,1,1,(()=>{v=null})),st()):v?(v.p(e,r),3072&r[0]&&ct(v,1)):(v=ae(e),v.c(),ct(v,1),v.m(o,null)),8192&r[0]&&N(o,"zoomed",e[13]),4096&r[0]&&N(o,"bp-inline",e[12])},i(t){d||(G((()=>{i||(i=pt(r,wt,{easing:xt,duration:480},1)),i.run(1)})),ct($),ct(v),d=1)},o(t){i||(i=pt(r,wt,{easing:xt,duration:480},0)),i.run(0),ut($),ut(v),d=0},d(t){t&&C(o),t&&i&&i.end(),$.d(t),v&&v.d(),e[27](null),p=0,s(m)}}}function re(t){let e,n;return e=new Qt({props:{activeItem:t[7]}}),{c(){gt(e.$$.fragment)},m(t,o){$t(e,t,o),n=1},p(t,n){const o={};128&n[0]&&(o.activeItem=t[7]),e.$set(o)},i(t){n||(ct(e.$$.fragment,t),n=1)},o(t){ut(e.$$.fragment,t),n=0},d(t){vt(e,t)}}}function ie(t){let e,n;return e=new Pt({props:{activeItem:t[7],calculateDimensions:t[17]}}),{c(){gt(e.$$.fragment)},m(t,o){$t(e,t,o),n=1},p(t,n){const o={};128&n[0]&&(o.activeItem=t[7]),e.$set(o)},i(t){n||(ct(e.$$.fragment,t),n=1)},o(t){ut(e.$$.fragment,t),n=0},d(t){vt(e,t)}}}function le(t){let e,n;return e=new Jt({props:{activeItem:t[7],calculateDimensions:t[17]}}),{c(){gt(e.$$.fragment)},m(t,o){$t(e,t,o),n=1},p(t,n){const o={};128&n[0]&&(o.activeItem=t[7]),e.$set(o)},i(t){n||(ct(e.$$.fragment,t),n=1)},o(t){ut(e.$$.fragment,t),n=0},d(t){vt(e,t)}}}function se(t){let e,n;return e=new Ot({props:{stuff:{activeItem:t[7],calculateDimensions:t[17],toggleControls:t[23],loadImage:t[18],preloadNext:t[19],next:t[4],prev:t[3],close:t[2],opts:t[5]},containerWidth:t[8],containerHeight:t[9],smallScreen:t[11]}}),{c(){gt(e.$$.fragment)},m(t,o){$t(e,t,o),n=1},p(t,n){const o={};160&n[0]&&(o.stuff={activeItem:t[7],calculateDimensions:t[17],toggleControls:t[23],loadImage:t[18],preloadNext:t[19],next:t[4],prev:t[3],close:t[2],opts:t[5]}),256&n[0]&&(o.containerWidth=t[8]),512&n[0]&&(o.containerHeight=t[9]),2048&n[0]&&(o.smallScreen=t[11]),e.$set(o)},i(t){n||(ct(e.$$.fragment,t),n=1)},o(t){ut(e.$$.fragment,t),n=0},d(t){vt(e,t)}}}function ce(t){let e,n,o,r=t[7].caption+"";return{c(){e=D("div"),A(e,"class","bp-cap")},m(t,n){k(t,e,n),e.innerHTML=r,o=1},p(t,n){(!o||128&n[0])&&r!==(r=t[7].caption+"")&&(e.innerHTML=r)},i(t){o||(G((()=>{n||(n=pt(e,wt,{duration:200},1)),n.run(1)})),o=1)},o(t){n||(n=pt(e,wt,{duration:200},0)),n.run(0),o=0},d(t){t&&C(e),t&&n&&n.end()}}}function ue(t){let e,n,o,r,i,l,s,c,u,a;const d=[se,le,ie,re],f=[];function p(t,e){return t[7].img?0:t[7].video?1:t[7].iframe?2:t[7].html?3:-1}~(n=p(t))&&(o=f[n]=d[n](t));let m=t[7].caption&&ce(t);return{c(){e=D("div"),o&&o.c(),l=H(),m&&m.c(),s=M(),A(e,"class","bp-inner")},m(o,r){var i;k(o,e,r),~n&&f[n].m(e,null),k(o,l,r),m&&m.m(o,r),k(o,s,r),c=1,u||(a=S(e,"click",(i=t[2],function(t){t.target===this&&i.call(this,t)})),u=1)},p(t,r){let i=n;n=p(t),n===i?~n&&f[n].p(t,r):(o&&(lt(),ut(f[i],1,1,(()=>{f[i]=null})),st()),~n?(o=f[n],o?o.p(t,r):(o=f[n]=d[n](t),o.c()),ct(o,1),o.m(e,null)):o=null),t[7].caption?m?(m.p(t,r),128&r[0]&&ct(m,1)):(m=ce(t),m.c(),ct(m,1),m.m(s.parentNode,s)):m&&(lt(),ut(m,1,1,(()=>{m=null})),st())},i(n){c||(ct(o),G((()=>{i&&i.end(1),r=dt(e,t[20],{}),r.start()})),ct(m),c=1)},o(n){ut(o),r&&r.invalidate(),i=ft(e,t[21],{}),ut(m),c=0},d(t){t&&C(e),~n&&f[n].d(),t&&i&&i.end(),t&&C(l),m&&m.d(t),t&&C(s),u=0,a()}}}function ae(t){let e,n,o,r,i=!t[5].noClose&&de(t),l=t[0].length>1&&fe(t);return{c(){e=D("div"),i&&i.c(),n=H(),l&&l.c()},m(t,o){k(t,e,o),i&&i.m(e,null),w(e,n),l&&l.m(e,null),r=1},p(t,o){t[5].noClose?i&&(i.d(1),i=null):i?i.p(t,o):(i=de(t),i.c(),i.m(e,n)),t[0].length>1?l?l.p(t,o):(l=fe(t),l.c(),l.m(e,null)):l&&(l.d(1),l=null)},i(t){r||(G((()=>{o||(o=pt(e,wt,{duration:300},1)),o.run(1)})),r=1)},o(t){o||(o=pt(e,wt,{duration:300},0)),o.run(0),r=0},d(t){t&&C(e),i&&i.d(),l&&l.d(),t&&o&&o.end()}}}function de(t){let e,o,r;return{c(){e=D("button"),A(e,"class","bp-x"),A(e,"title","Close")},m(n,i){k(n,e,i),e.innerHTML=t[15],o||(r=S(e,"click",t[2]),o=1)},p:n,d(t){t&&C(e),o=0,r()}}}function fe(t){let e,n,o,r,i,l,c,u,a,d,f=t[1]+1+"",p=t[0].length+"";return{c(){e=D("div"),n=z(f),o=z(" / "),r=z(p),i=H(),l=D("button"),c=H(),u=D("button"),A(e,"class","bp-count"),A(l,"class","bp-next"),A(l,"title","Next"),A(u,"class","bp-prev"),A(u,"title","Previous")},m(s,f){k(s,e,f),w(e,n),w(e,o),w(e,r),k(s,i,f),k(s,l,f),l.innerHTML=t[14],k(s,c,f),k(s,u,f),u.innerHTML=t[14],a||(d=[S(l,"click",t[4]),S(u,"click",t[3])],a=1)},p(t,e){2&e[0]&&f!==(f=t[1]+1+"")&&L(n,f),1&e[0]&&p!==(p=t[0].length+"")&&L(r,p)},d(t){t&&C(e),t&&C(i),t&&C(l),t&&C(c),t&&C(u),a=0,s(d)}}}function pe(t){let e,n,o,r,i=t[0]&&oe(t);return{c(){i&&i.c(),e=M()},m(l,s){i&&i.m(l,s),k(l,e,s),n=1,o||(r=S(ne,"keydown",t[16]),o=1)},p(t,n){t[0]?i?(i.p(t,n),1&n[0]&&ct(i,1)):(i=oe(t),i.c(),ct(i,1),i.m(e.parentNode,e)):i&&(lt(),ut(i,1,1,(()=>{i=null})),st())},i(t){n||(ct(i),n=1)},o(t){ut(i),n=0},d(t){i&&i.d(t),t&&C(e),o=0,r()}}}function me(t,e,n){let o,r;p(t,Dt,(t=>n(31,o=t))),p(t,zt,(t=>n(13,r=t)));let i,l,s,c,u,a,d,f,h,g,$,{items:v}=e,{position:y}=e,{target:b}=e;const x=()=>{i.noClose||(i.onClose&&i.onClose(),m(Dt,o=1,o),n(0,v=0),a&&a.focus({preventScroll:1}))},w=()=>{l=0,_(-1)},I=()=>{l=1,_(1)},_=t=>{n(1,y=k(t))},k=t=>{let e=y+t;return e=e==v.length?0:0>e?v.length-1:e,e},C=t=>{const e=new Image;return e.src=t.img,t.preload=e,e.decode()},E=t=>{let{element:e}=$,n=t.firstChild,{clientWidth:o,clientHeight:r}=n,{top:i,left:l,width:s,height:a}=e.getBoundingClientRect(),d=l-(c-s)/2,f=i-(u-a)/2,p=e.clientWidth/o,m=e.clientHeight/r;return{duration:480,easing:xt,css(t){let e=1-t;return`transform:translate3d(${d*e}px, ${f*e}px, 0px) scale3d(${p+t*(1-p)}, ${m+t*(1-m)}, 1)`}}},D=()=>{n(11,h=769>c),i.onResize&&i.onResize($)};return t.$$set=t=>{"items"in t&&n(0,v=t.items),"position"in t&&n(1,y=t.position),"target"in t&&n(24,b=t.target)},t.$$.update=()=>{227&t.$$.dirty[0]&&v&&(n(7,$=v[y]),d&&i.onUpdate&&i.onUpdate(d,$))},[v,y,x,w,I,i,d,$,c,u,f,h,g,r,'<svg viewBox="0 0 24 24"><path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"/></svg>','<svg viewBox="0 0 32 32"><path d="M24 10l-2-2-6 6-6-6-2 2 6 6-6 6 2 2 6-6 6 6 2-2-6-6z"/></svg>',t=>{if(!s)return;let{keyCode:e}=t;if(27===e)x();else if(39==e)I();else if(37==e)w();else if(9===e&&!g){const e=d.querySelectorAll("*"),n=Array.from(e).filter((t=>t.tabIndex>=0));if(n.length){t.preventDefault();let e=n.indexOf(document.activeElement);e+=n.length+(t.shiftKey?-1:1),e%=n.length,n[e].focus()}}},(t,e,n)=>{let o,r;n=i.scale||.99;const l=(e=e||1080)/(t=t||1920);return l>u/c?(r=Math.min(e,u*n),o=r/l):(o=Math.min(t,c*n),r=o*l),[o,r]},C,()=>{let t=v[k(1)],e=v[k(-1)];t.img&&!t.preload&&C(t),e.img&&!e.preload&&C(e)},t=>s?It(t,{x:l?20:-20,easing:xt,duration:300}):(s=1,g||window.innerWidth-te.clientWidth&&(Vt=Vt||getComputedStyle(te).overflowY,Zt=Zt||getComputedStyle(ee).overflowY,te.style.overflowY="hidden",ee.style.overflowY="scroll"),i.onOpen&&i.onOpen(d),i.intro?It(t,{y:10,easing:xt}):E(t)),t=>v?It(t,{x:l?-20:20,easing:xt,duration:300}):i.intro?It(t,{y:-10,easing:xt}):E(t),()=>(window.addEventListener("resize",D),{destroy(){window.removeEventListener("resize",D),m(Dt,o=s=0,o),te.style.overflowY=Vt,ee.style.overflowY=Vt,i.onClosed&&i.onClosed()}}),()=>n(10,f=!f),b,t=>{let e=t.items;a=document.activeElement,n(5,i=t),n(12,g=i.inline),n(8,c=g?b.clientWidth:window.innerWidth),n(9,u=g?b.clientHeight:window.innerHeight),n(11,h=769>c),n(1,y=i.position||0),n(0,v=Array.isArray(e)?e.map(((t,e)=>({...t,u:e}))):[...e.length?e:[e]].reduce(((t,e,o)=>{let r={element:e,u:o};return e==i.el&&n(1,y=o),[...t,{...r,...e.dataset}]}),[]))},t=>{n(9,u=t.target.clientHeight),n(8,c=t.target.clientWidth)},t=>{q[t?"unshift":"push"]((()=>{d=t,n(6,d)}))}]}class he extends bt{constructor(t){super(),yt(this,t,me,pe,f,{items:0,position:1,target:24,open:25,close:2,prev:3,next:4},null,[-1,-1])}get items(){return this.$$.ctx[0]}set items(t){this.$$set({items:t}),tt()}get position(){return this.$$.ctx[1]}set position(t){this.$$set({position:t}),tt()}get target(){return this.$$.ctx[24]}set target(t){this.$$set({target:t}),tt()}get open(){return this.$$.ctx[25]}get close(){return this.$$.ctx[2]}get prev(){return this.$$.ctx[3]}get next(){return this.$$.ctx[4]}}e=t=>new he({...t,intro:1,props:t});export{e as default};
