var t,e;function n(){}const i=t=>t;function r(t,e){for(const n in e)t[n]=e[n];return t}function o(t){return t()}function s(t){t.forEach(o)}function l(t){return"function"==typeof t}function c(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}let a;function u(t,e){return t!=t?e==e:t!==e}function d(t,e,i){t.$$.on_destroy.push(((t,...e)=>{if(null==t)return n;const i=t.subscribe(...e);return i.unsubscribe?()=>i.unsubscribe():i})(e,i))}function p(t,e,n){return t.set(n),e}function f(t){return t&&l(t.destroy)?t.destroy:n}let m=()=>window.performance.now(),h=t=>requestAnimationFrame(t);const g=new Set;function $(t){g.forEach((e=>{e.c(t)||(g.delete(e),e.f())})),0!==g.size&&h($)}function b(t){let e;return 0===g.size&&h($),{promise:new Promise((n=>{g.add(e={c:t,f:n})})),abort(){g.delete(e)}}}function y(t,e){t.appendChild(e)}function v(t){const e=_("style");return((t,e)=>{y(t.head||t,e)})(document,e),e.sheet}function x(t,e,n){t.insertBefore(e,n||null)}function w(t){t.parentNode.removeChild(t)}function _(t){return document.createElement(t)}function k(t){return document.createTextNode(t)}function I(){return k("")}function C(t,e,n,i){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n,i)}function E(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function z(t,e){t.wholeText!==(e=""+e)&&(t.data=e)}function D(t,e,n,i){null===n?t.style.removeProperty(e):t.style.setProperty(e,n,i?"important":"")}function H(t,e,n){t.classList[n?"add":"remove"](e)}class M{constructor(){this.e=this.n=null}c(t){this.h(t)}m(t,e,n=null){this.e||(this.e=_(e.nodeName),this.t=e,this.c(t)),this.i(n)}h(t){this.e.innerHTML=t,this.n=Array.from(this.e.childNodes)}i(t){for(let e=0;this.n.length>e;e+=1)x(this.t,this.n[e],t)}p(t){this.d(),this.h(t),this.i(this.a)}d(){this.n.forEach(w)}}const S=new Map;let A,N=0;function R(t,e,n,i,r,o,s,l=0){const c=16.666/i;let a="{\n";for(let t=0;1>=t;t+=c){const i=e+(n-e)*o(t);a+=100*t+`%{${s(i,1-i)}}\n`}const u=a+`100% {${s(n,1-n)}}\n}`,d=`__svelte_${(t=>{let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0})(u)}_${l}`,p=(t=>{if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument})(t),{stylesheet:f,rules:m}=S.get(p)||((t,e)=>{const n={stylesheet:v(),rules:{}};return S.set(t,n),n})(p);m[d]||(m[d]=1,f.insertRule(`@keyframes ${d} ${u}`,f.cssRules.length));const h=t.style.animation||"";return t.style.animation=`${h?h+", ":""}${d} ${i}ms linear ${r}ms 1 both`,N+=1,d}function T(t,e){const n=(t.style.animation||"").split(", "),i=n.filter(e?t=>0>t.indexOf(e):t=>-1===t.indexOf("__svelte")),r=n.length-i.length;r&&(t.style.animation=i.join(", "),N-=r,N||h((()=>{N||(S.forEach((t=>{const{stylesheet:e}=t;let n=e.cssRules.length;for(;n--;)e.deleteRule(n);t.rules={}})),S.clear())})))}function L(t){A=t}const P=[],W=[],Y=[],O=[],j=Promise.resolve();let q=0;function X(t){Y.push(t)}const B=new Set;let U,Z=0;function F(){const t=A;do{for(;P.length>Z;){const t=P[Z];Z++,L(t),J(t.$$)}for(L(null),P.length=0,Z=0;W.length;)W.pop()();for(let t=0;Y.length>t;t+=1){const e=Y[t];B.has(e)||(B.add(e),e())}Y.length=0}while(P.length);for(;O.length;)O.pop()();q=0,B.clear(),L(t)}function J(t){if(null!==t.fragment){t.update(),s(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(X)}}function K(){return U||(U=Promise.resolve(),U.then((()=>{U=null}))),U}function G(t,e,n){t.dispatchEvent(((t,e,n=0)=>{const i=document.createEvent("CustomEvent");return i.initCustomEvent(t,n,0,e),i})(`${e?"intro":"outro"}${n}`))}const Q=new Set;let V;function tt(){V={r:0,c:[],p:V}}function et(){V.r||s(V.c),V=V.p}function nt(t,e){t&&t.i&&(Q.delete(t),t.i(e))}function it(t,e,n,i){if(t&&t.o){if(Q.has(t))return;Q.add(t),V.c.push((()=>{Q.delete(t),i&&(n&&t.d(1),i())})),t.o(e)}}const rt={duration:0};function ot(t,e,r){let o,s,c=e(t,r),a=0,u=0;function d(){o&&T(t,o)}function p(){const{delay:e=0,duration:r=300,easing:l=i,tick:p=n,css:f}=c||rt;f&&(o=R(t,0,1,r,e,l,f,u++)),p(0,1);const h=m()+e,g=h+r;s&&s.abort(),a=1,X((()=>G(t,1,"start"))),s=b((e=>{if(a){if(e>=g)return p(1,0),G(t,1,"end"),d(),a=0;if(e>=h){const t=l((e-h)/r);p(t,1-t)}}return a}))}let f=0;return{start(){f||(f=1,T(t),l(c)?(c=c(),K().then(p)):p())},invalidate(){f=0},end(){a&&(d(),a=0)}}}function st(t,e,r){let o,c=e(t,r),a=1;const u=V;function d(){const{delay:e=0,duration:r=300,easing:l=i,tick:d=n,css:p}=c||rt;p&&(o=R(t,1,0,r,e,l,p));const f=m()+e,h=f+r;X((()=>G(t,0,"start"))),b((e=>{if(a){if(e>=h)return d(0,1),G(t,0,"end"),--u.r||s(u.c),0;if(e>=f){const t=l((e-f)/r);d(1-t,t)}}return a}))}return u.r+=1,l(c)?K().then((()=>{c=c(),d()})):d(),{end(e){e&&c.tick&&c.tick(1,0),a&&(o&&T(t,o),a=0)}}}function lt(t,e,r,o){let c=e(t,r),a=o?0:1,u=null,d=null,p=null;function f(){p&&T(t,p)}function h(t,e){const n=t.b-a;return{a,b:t.b,d:n,duration:e*=Math.abs(n),start:t.start,end:t.start+e,group:t.group}}function g(e){const{delay:r=0,duration:o=300,easing:l=i,tick:g=n,css:$}=c||rt,y={start:m()+r,b:e};e||(y.group=V,V.r+=1),u||d?d=y:($&&(f(),p=R(t,a,e,o,r,l,$)),e&&g(0,1),u=h(y,o),X((()=>G(t,e,"start"))),b((e=>(d&&e>d.start&&(u=h(d,o),d=null,G(t,u.b,"start"),$&&(f(),p=R(t,a,u.b,u.duration,0,l,c.css))),u&&(u.end>e?u.start>e||(a=u.a+u.d*l((e-u.start)/u.duration),g(a,1-a)):(g(a=u.b,1-a),G(t,u.b,"end"),d||(u.b?f():--u.group.r||s(u.group.c)),u=null)),!(!u&&!d)))))}return{run(t){l(c)?K().then((()=>{c=c(),g(t)})):g(t)},end(){f(),u=d=null}}}const ct=window;function at(t){t&&t.c()}function ut(t,e,n,i){const{fragment:r,on_mount:c,on_destroy:a,after_update:u}=t.$$;r&&r.m(e,n),i||X((()=>{const e=c.map(o).filter(l);a?a.push(...e):s(e),t.$$.on_mount=[]})),u.forEach(X)}function dt(t,e){const n=t.$$;null!==n.fragment&&(s(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function pt(t,e,i,r,o,l,c,a=[-1]){const u=A;L(t);const d=t.$$={fragment:null,ctx:null,props:l,update:n,not_equal:o,bound:{},on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(u?u.$$.context:[])),callbacks:{},dirty:a,skip_bound:0,root:e.target||u.$$.root};c&&c(d.root);let p=0;d.ctx=i?i(t,e.props||{},((e,n,...i)=>{const r=i.length?i[0]:n;return d.ctx&&o(d.ctx[e],d.ctx[e]=r)&&(!d.skip_bound&&d.bound[e]&&d.bound[e](r),p&&function(t,e){-1===t.$$.dirty[0]&&(P.push(t),q||(q=1,j.then(F)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}(t,e)),n})):[],d.update(),p=1,s(d.before_update),d.fragment=r?r(d.ctx):0,e.target&&(d.fragment&&d.fragment.c(),e.intro&&nt(t.$$.fragment),ut(t,e.target,e.anchor,e.customElement),F()),L(u)}class ft{$destroy(){dt(this,1),this.$destroy=n}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){this.$$set&&0!==Object.keys(t).length&&(this.$$.skip_bound=1,this.$$set(t),this.$$.skip_bound=0)}}function mt(t){const e=t-1;return e*e*e+1}function ht(t,{delay:e=0,duration:n=400,easing:r=i}={}){const o=+getComputedStyle(t).opacity;return{delay:e,duration:n,easing:r,css:t=>"opacity: "+t*o}}function gt(t,{delay:e=0,duration:n=400,easing:i=mt,x:r=0,y:o=0,opacity:s=0}={}){const l=getComputedStyle(t),c=+l.opacity,a="none"===l.transform?"":l.transform,u=c*(1-s);return{delay:e,duration:n,easing:i,css:(t,e)=>`\n\t\t\ttransform: ${a} translate(${(1-t)*r}px, ${(1-t)*o}px);\n\t\t\topacity: ${c-u*e}`}}const $t=[];function bt(t,e=n){let i;const r=new Set;function o(e){if(c(t,e)&&(t=e,i)){const e=!$t.length;for(const e of r)e[1](),$t.push(e,t);if(e){for(let t=0;$t.length>t;t+=2)$t[t][0]($t[t+1]);$t.length=0}}}return{set:o,update(e){o(e(t))},subscribe(s,l=n){const c=[s,l];return r.add(c),1===r.size&&(i=e(o)||n),s(t),()=>{r.delete(c),0===r.size&&(i(),i=null)}}}}function yt(t,e){if(t===e||t!=t)return()=>t;const n=typeof t;if(Array.isArray(t)){const n=e.map(((e,n)=>yt(t[n],e)));return t=>n.map((e=>e(t)))}if("number"===n){const n=e-t;return e=>t+e*n}}function vt(t,e={}){const n=bt(t);let o,s=t;function l(l,c){if(null==t)return n.set(t=l),Promise.resolve();s=l;let a=o,u=0,{delay:d=0,duration:p=400,easing:f=i,interpolate:h=yt}=r(r({},e),c);if(0===p)return a&&(a.abort(),a=null),n.set(t=s),Promise.resolve();const g=m()+d;let $;return o=b((e=>{if(g>e)return 1;u||($=h(t,l),"function"==typeof p&&(p=p(t,l)),u=1),a&&(a.abort(),a=null);const i=e-g;return i>p?(n.set(t=l),0):(n.set(t=$(f(i/p))),1)})),o.promise}return{set:l,update:(e,n)=>l(e(s,t),n),subscribe:n.subscribe}}const xt=bt(0),wt=bt(0),_t=matchMedia("(prefers-reduced-motion: reduce)").matches;function kt(t){let e,n,i,r,o=!t[2]&&It();return{c(){e=_("div"),o&&o.c(),E(e,"class","bp-load"),D(e,"background-image","url("+t[0]+")")},m(t,n){x(t,e,n),o&&o.m(e,null),r=1},p(n,i){(t=n)[2]?o&&(o.d(1),o=null):o||(o=It(),o.c(),o.m(e,null)),(!r||1&i)&&D(e,"background-image","url("+t[0]+")")},i(o){r||(X((()=>{i&&i.end(1),n=ot(e,ht,{duration:t[2]?300:0}),n.start()})),r=1)},o(t){n&&n.invalidate(),t&&(i=st(e,ht,{duration:200})),r=0},d(t){t&&w(e),o&&o.d(),t&&i&&i.end()}}}function It(t){let e,n;return{c(){e=_("span"),n=_("span"),E(e,"class","bp-bar"),E(n,"class","bp-o")},m(t,i){x(t,e,i),x(t,n,i)},d(t){t&&w(e),t&&w(n)}}}function Ct(t){let e,n=(!t[1]||t[2])&&kt(t);return{c(){n&&n.c(),e=I()},m(t,i){n&&n.m(t,i),x(t,e,i)},p(t,[i]){!t[1]||t[2]?n?(n.p(t,i),6&i&&nt(n,1)):(n=kt(t),n.c(),nt(n,1),n.m(e.parentNode,e)):n&&(tt(),it(n,1,1,(()=>{n=null})),et())},i(t){nt(n)},o(t){it(n)},d(t){n&&n.d(t),t&&w(e)}}}function Et(t,e,n){let i;d(t,xt,(t=>n(2,i=t)));let{thumb:r}=e,{loaded:o}=e;return t.$$set=t=>{"thumb"in t&&n(0,r=t.thumb),"loaded"in t&&n(1,o=t.loaded)},[r,o,i]}class zt extends ft{constructor(t){super(),pt(this,t,Et,Ct,c,{thumb:0,loaded:1})}}function Dt(t){let e,n,i,r;return{c(){e=_("img"),E(e,"srcset",t[7]),E(e,"sizes",n=t[6].sizes||t[1]+"px"),E(e,"alt",t[9])},m(t,n){x(t,e,n),r=1},p(t,i){(!r||2&i[0]&&n!==(n=t[6].sizes||t[1]+"px"))&&E(e,"sizes",n)},i(t){r||(i&&i.end(1),r=1)},o(t){i=st(e,ht,{}),r=0},d(t){t&&w(e),t&&i&&i.end()}}}function Ht(t){let e,n,i,r,o,l,c;r=new zt({props:{thumb:t[8],loaded:t[3]}});let a=t[3]&&Dt(t);return{c(){e=_("div"),n=_("div"),i=_("div"),at(r.$$.fragment),a&&a.c(),D(i,"background-image","url("+t[8]+")"),D(i,"transform","translate3d("+t[5][0]+"px, "+t[5][1]+"px, 0px)"),E(n,"class","bp-item bp-img"),D(n,"width",t[0][0]+"px"),D(n,"height",t[0][1]+"px"),E(e,"class","bp-img-wrap"),H(e,"dragging",t[4])},m(s,u){x(s,e,u),y(e,n),y(n,i),ut(r,i,null),a&&a.m(i,null),t[25](e),o=1,l||(c=[C(window,"resize",t[24]),f(t[17].call(null,n)),C(e,"wheel",t[12]),C(e,"pointerdown",t[13]),C(e,"pointermove",t[14]),C(e,"pointerup",t[15]),C(e,"pointercancel",t[15])],l=1)},p(t,s){const l={};8&s[0]&&(l.loaded=t[3]),r.$set(l),t[3]?a?(a.p(t,s),8&s[0]&&nt(a,1)):(a=Dt(t),a.c(),nt(a,1),a.m(i,null)):a&&(tt(),it(a,1,1,(()=>{a=null})),et()),(!o||32&s[0])&&D(i,"transform","translate3d("+t[5][0]+"px, "+t[5][1]+"px, 0px)"),(!o||1&s[0])&&D(n,"width",t[0][0]+"px"),(!o||1&s[0])&&D(n,"height",t[0][1]+"px"),16&s[0]&&H(e,"dragging",t[4])},i(t){o||(nt(r.$$.fragment,t),nt(a),o=1)},o(t){it(r.$$.fragment,t),it(a),o=0},d(n){n&&w(e),dt(r),a&&a.d(),t[25](null),l=0,s(c)}}}function Mt(t,e,n){let i,r,o,s;d(t,wt,(t=>n(37,r=t))),d(t,xt,(t=>n(23,s=t)));let l,c,a,u,f,m,h,g,$,b,y,{stuff:v}=e,{containerWidth:x}=e,{containerHeight:w}=e,{smallScreen:_}=e,{activeItem:k,calculateDimensions:I,loadImage:C,preloadNext:E,opts:z,prev:D,next:H,close:M,toggleControls:S}=v,{inline:A}=z,{img:N,thumb:R,alt:T,width:L,height:P}=k,Y=k.maxZoom||z.maxZoom||10,O=+L,j=+P,q=I(O,j),X=q[0],B=[],U=[],Z=0,F={easing:mt,duration:_t?0:400};const J=vt(q,F);d(t,J,(t=>n(0,o=t)));const K=vt([0,0],F);d(t,K,(t=>n(5,i=t)));const G=([t,e],n=o)=>{let i=(n[0]-x)/2,r=(n[1]-w)/2;return 0>i?t=0:t>i?_?(t=f?i+(t-i)/10:i)>i+20&&(u=1,D()):t=i:-1*i>t&&(_?-1*i-20>(t=f?-1*i-(-1*i-t)/10:-1*i)&&(u=1,H()):t=-1*i),0>r?e=0:e>r?e=r:-1*r>e&&(e=-1*r),[t,e]},Q=(t,e=5)=>{let r=I(O,j),s=r[0]*Y,[l,c]=o,a=l+l*e,u=c+c*e;if(e>0)a>s&&(a=s,u=r[1]*Y),a>O&&(a=O,u=j);else if(r[0]>a)return J.set(r),void K.set([0,0]);let{x:d,y:p,width:f,height:m}=t.target.getBoundingClientRect(),h=t.clientX-d-f/2,g=t.clientY-p-m/2;d=-1*h*(a/f)+h,p=-1*g*(u/m)+g;let $=[a,u];J.set($).then((()=>{n(1,X=Math.round(Math.max(X,a)))})),K.set(G([i[0]+d,i[1]+p],$))},V=t=>[t.clientX,t.clientY],tt=()=>{n(22,q=I(O,j)),_||(J.set(q),K.set([0,0]))};return t.$$set=t=>{"stuff"in t&&n(18,v=t.stuff),"containerWidth"in t&&n(19,x=t.containerWidth),"containerHeight"in t&&n(20,w=t.containerHeight),"smallScreen"in t&&n(21,_=t.smallScreen)},t.$$.update=()=>{4194305&t.$$.dirty[0]&&p(wt,r=o[0]>q[0],r),8388608&t.$$.dirty[0]&&s&&!z.intro&&p(K,i=[0,0],i)},[o,X,l,c,f,i,z,N,R,T,J,K,t=>{if(A&&!r)return;t.preventDefault(),Q(t,t.deltaY/-300)},t=>{if(2!==t.button){t.preventDefault(),n(4,f=1),B.push(t);let[e,r]=V(t);h=e,g=r,$=i[0],b=i[1]}},t=>{if(B.length>1)return a=1,n(4,f=0),(t=>{B=B.map((e=>e.pointerId==t.pointerId?t:e));let[e,n]=B,i=Math.hypot(e.clientX-n.clientX,e.clientY-n.clientY);Z||(Z=i),Q(t,-.015*(Z-i)),Z=i})(t);if(u||!f)return;let[e,i]=V(t);U.push({x:e,y:i}),e-=h,i-=g,r||(e>40&&(D(),u=1),-40>e&&(H(),u=1),-90>i&&!A&&(M(),u=1)),m=Math.hypot(e,i)>10,r&&m&&K.set(G([$+e,b+i]),{duration:0})},t=>{if(B=B.filter((e=>e.pointerId!=t.pointerId)),a)return a=B.length?1:0,void(Z=0);if(!u&&f){if(t.target===l&&!A)return M();if(n(4,f=0),_?m||(y?(clearTimeout(y),Q(t,r?-5:5),y=0):y=setTimeout((()=>{S(),y=0}),250)):r?m||Q(t,-5):2>U.length&&!r&&Q(t),m){let t;U=U.slice(-3);let e=U[1].x-U[2].x,n=U[1].y-U[2].y;Math.hypot(e,n)>5?(e=U[0].x-U[2].x,n=U[0].y-U[2].y,t=[i[0]-5*e,i[1]-5*n]):t=i,K.set(G(t))}m=0,U=[]}},tt,()=>{C(k).then((()=>{n(3,c=1),E()}))},v,x,w,_,q,s,()=>setTimeout(tt,0),t=>{W[t?"unshift":"push"]((()=>{l=t,n(2,l)}))}]}class St extends ft{constructor(t){super(),pt(this,t,Mt,Ht,c,{stuff:18,containerWidth:19,containerHeight:20,smallScreen:21},null,[-1,-1])}}function At(t){let e,n,i,r,o,l,c;return r=new zt({props:{thumb:t[3],loaded:t[0]}}),{c(){var o,s;e=_("div"),n=_("iframe"),at(r.$$.fragment),E(n,"allow","autoplay; fullscreen"),o=n.src,s=i=t[2],a||(a=document.createElement("a")),a.href=s,o!==a.href&&E(n,"src",i),E(n,"title",t[4]),E(e,"class","bp-item bp-if"),D(e,"width",t[1][0]+"px"),D(e,"height",t[1][1]+"px")},m(i,s){x(i,e,s),y(e,n),ut(r,e,null),o=1,l||(c=[C(window,"resize",t[5]),C(n,"load",t[8])],l=1)},p(t,[n]){const i={};1&n&&(i.loaded=t[0]),r.$set(i),(!o||2&n)&&D(e,"width",t[1][0]+"px"),(!o||2&n)&&D(e,"height",t[1][1]+"px")},i(t){o||(nt(r.$$.fragment,t),o=1)},o(t){it(r.$$.fragment,t),o=0},d(t){t&&w(e),dt(r),l=0,s(c)}}}function Nt(t,e,n){let i,r,{activeItem:o}=e,{calculateDimensions:s}=e,{iframe:l,thumb:c,title:a}=o;const u=()=>{n(1,r=s(o.width,o.height))};return u(),t.$$set=t=>{"activeItem"in t&&n(6,o=t.activeItem),"calculateDimensions"in t&&n(7,s=t.calculateDimensions)},[i,r,l,c,a,u,o,s,()=>n(0,i=1)]}class Rt extends ft{constructor(t){super(),pt(this,t,Nt,At,c,{activeItem:6,calculateDimensions:7})}}function Tt(t){let e,n,i,r,o,l,c=t[2]+t[3]+"";return i=new zt({props:{thumb:t[5],loaded:t[1]}}),{c(){e=_("div"),n=_("video"),at(i.$$.fragment),n.playsInline=1,n.controls=1,n.autoplay=1,E(n,"tabindex","0"),D(n,"width",t[4][0]+"px"),D(n,"height",t[4][1]+"px"),E(e,"class","bp-item bp-vid")},m(s,a){x(s,e,a),y(e,n),n.innerHTML=c,ut(i,e,null),r=1,o||(l=[C(window,"resize",t[9]),C(n,"canplay",t[10])],o=1)},p(t,[e]){(!r||12&e)&&c!==(c=t[2]+t[3]+"")&&(n.innerHTML=c),(!r||16&e)&&D(n,"width",t[4][0]+"px"),(!r||16&e)&&D(n,"height",t[4][1]+"px");const o={};2&e&&(o.loaded=t[1]),i.$set(o)},i(t){r||(nt(i.$$.fragment,t),r=1)},o(t){it(i.$$.fragment,t),r=0},d(t){t&&w(e),dt(i),o=0,s(l)}}}function Lt(t,e,n){let i,{activeItem:r}=e,{calculateDimensions:o}=e,{video:s,thumb:l,tracks:c=[],width:a,height:u}=r;s=Array.isArray(s)?s:s.split(", "),c=Array.isArray(c)?c:JSON.parse(c),s=s.map((t=>`<source src="${t}" type="video/${t.match(/.(\w+)$/)[1]}">`)),c=c.map((t=>`<track${Object.keys(t).reduce(((e,n)=>e+` ${n}="${t[n]}"`),"")}>`));let d=o(a,u);return t.$$set=t=>{"activeItem"in t&&n(8,r=t.activeItem),"calculateDimensions"in t&&n(0,o=t.calculateDimensions)},[o,i,s,c,d,l,a,u,r,()=>n(4,d=o(a,u)),()=>n(1,i=1)]}class Pt extends ft{constructor(t){super(),pt(this,t,Lt,Tt,c,{activeItem:8,calculateDimensions:0})}}let Wt,Yt,{documentElement:Ot,body:jt}=document;const{window:qt}=ct;function Xt(e){let i,r,o,l,c,a,d,p,m,h=e[7].i,g=Kt(e),$=(!e[11]||!e[10])&&Gt(e);return{c(){i=_("div"),r=_("div"),g.c(),l=I(),$&&$.c(),E(i,"class","bp-wrap"),H(i,"zoomed",e[14]),H(i,"bp-inline",e[12])},m(n,o){var s;x(n,i,o),y(i,r),g.m(i,null),y(i,l),$&&$.m(i,null),e[29](i),d=1,p||(m=[f((s=i,t||(t=new ResizeObserver((t=>{for(const e of t)e.target.dispatchEvent(new CustomEvent("fd:resize"))}))),t.observe(s),c={destroy(){t.unobserve(s)}})),C(i,"fd:resize",e[28]),f(a=e[22].call(null,i))],p=1)},p(t,r){e=t,128&r[0]&&u(h,h=e[7].i)?(tt(),it(g,1,1,n),et(),g=Kt(e),g.c(),nt(g),g.m(i,l)):g.p(e,r),e[11]&&e[10]?$&&(tt(),it($,1,1,(()=>{$=null})),et()):$?($.p(e,r),3072&r[0]&&nt($,1)):($=Gt(e),$.c(),nt($,1),$.m(i,null)),16384&r[0]&&H(i,"zoomed",e[14]),4096&r[0]&&H(i,"bp-inline",e[12])},i(t){d||(X((()=>{o||(o=lt(r,ht,{easing:mt,duration:480},1)),o.run(1)})),nt(g),nt($),d=1)},o(t){o||(o=lt(r,ht,{easing:mt,duration:480},0)),o.run(0),it(g),it($),d=0},d(t){t&&w(i),t&&o&&o.end(),g.d(t),$&&$.d(),e[29](null),p=0,s(m)}}}function Bt(t){let e,i,r=t[7].html+"";return{c(){e=new M,i=I(),e.a=i},m(t,n){e.m(r,t,n),x(t,i,n)},p(t,n){128&n[0]&&r!==(r=t[7].html+"")&&e.p(r)},i:n,o:n,d(t){t&&w(i),t&&e.d()}}}function Ut(t){let e,n;return e=new Rt({props:{activeItem:t[7],calculateDimensions:t[16]}}),{c(){at(e.$$.fragment)},m(t,i){ut(e,t,i),n=1},p(t,n){const i={};128&n[0]&&(i.activeItem=t[7]),e.$set(i)},i(t){n||(nt(e.$$.fragment,t),n=1)},o(t){it(e.$$.fragment,t),n=0},d(t){dt(e,t)}}}function Zt(t){let e,n;return e=new Pt({props:{activeItem:t[7],calculateDimensions:t[16]}}),{c(){at(e.$$.fragment)},m(t,i){ut(e,t,i),n=1},p(t,n){const i={};128&n[0]&&(i.activeItem=t[7]),e.$set(i)},i(t){n||(nt(e.$$.fragment,t),n=1)},o(t){it(e.$$.fragment,t),n=0},d(t){dt(e,t)}}}function Ft(t){let e,n;return e=new St({props:{stuff:{activeItem:t[7],calculateDimensions:t[16],toggleControls:t[21],loadImage:t[18],preloadNext:t[17],next:t[4],prev:t[3],close:t[2],opts:t[5]},containerWidth:t[8],containerHeight:t[9],smallScreen:t[11]}}),{c(){at(e.$$.fragment)},m(t,i){ut(e,t,i),n=1},p(t,n){const i={};160&n[0]&&(i.stuff={activeItem:t[7],calculateDimensions:t[16],toggleControls:t[21],loadImage:t[18],preloadNext:t[17],next:t[4],prev:t[3],close:t[2],opts:t[5]}),256&n[0]&&(i.containerWidth=t[8]),512&n[0]&&(i.containerHeight=t[9]),2048&n[0]&&(i.smallScreen=t[11]),e.$set(i)},i(t){n||(nt(e.$$.fragment,t),n=1)},o(t){it(e.$$.fragment,t),n=0},d(t){dt(e,t)}}}function Jt(t){let e,n,i,r=t[7].caption+"";return{c(){e=_("div"),E(e,"class","bp-cap")},m(t,n){x(t,e,n),e.innerHTML=r,i=1},p(t,n){(!i||128&n[0])&&r!==(r=t[7].caption+"")&&(e.innerHTML=r)},i(t){i||(X((()=>{n||(n=lt(e,ht,{duration:200},1)),n.run(1)})),i=1)},o(t){n||(n=lt(e,ht,{duration:200},0)),n.run(0),i=0},d(t){t&&w(e),t&&n&&n.end()}}}function Kt(t){let e,n,i,r,o,l,c,a,u;const d=[Ft,Zt,Ut,Bt],p=[];function f(t,e){return t[7].img?0:t[7].video?1:t[7].iframe?2:3}n=f(t),i=p[n]=d[n](t);let m=t[7].caption&&Jt(t);return{c(){e=_("div"),i.c(),m&&m.c(),l=I(),E(e,"class","bp-inner")},m(i,r){var o;x(i,e,r),p[n].m(e,null),m&&m.m(i,r),x(i,l,r),c=1,a||(u=[C(e,"pointerdown",t[26]),C(e,"pointerup",(o=t[27],function(t){t.target===this&&o.call(this,t)}))],a=1)},p(t,r){let o=n;n=f(t),n===o?p[n].p(t,r):(tt(),it(p[o],1,1,(()=>{p[o]=null})),et(),i=p[n],i?i.p(t,r):(i=p[n]=d[n](t),i.c()),nt(i,1),i.m(e,null)),t[7].caption?m?(m.p(t,r),128&r[0]&&nt(m,1)):(m=Jt(t),m.c(),nt(m,1),m.m(l.parentNode,l)):m&&(tt(),it(m,1,1,(()=>{m=null})),et())},i(n){c||(nt(i),X((()=>{o&&o.end(1),r=ot(e,t[19],{}),r.start()})),nt(m),c=1)},o(n){it(i),r&&r.invalidate(),o=st(e,t[20],{}),it(m),c=0},d(t){t&&w(e),p[n].d(),t&&o&&o.end(),m&&m.d(t),t&&w(l),a=0,s(u)}}}function Gt(t){let e,n,i,r,o=!t[5].noClose&&Qt(t),s=t[0].length>1&&Vt(t);return{c(){e=_("div"),o&&o.c(),n=I(),s&&s.c()},m(t,i){x(t,e,i),o&&o.m(e,null),y(e,n),s&&s.m(e,null),r=1},p(t,i){t[5].noClose?o&&(o.d(1),o=null):o?o.p(t,i):(o=Qt(t),o.c(),o.m(e,n)),t[0].length>1?s?s.p(t,i):(s=Vt(t),s.c(),s.m(e,null)):s&&(s.d(1),s=null)},i(t){r||(X((()=>{i||(i=lt(e,ht,{duration:300},1)),i.run(1)})),r=1)},o(t){i||(i=lt(e,ht,{duration:300},0)),i.run(0),r=0},d(t){t&&w(e),o&&o.d(),s&&s.d(),t&&i&&i.end()}}}function Qt(t){let e,i,r;return{c(){e=_("button"),E(e,"class","bp-x"),E(e,"title","Close"),E(e,"aria-label","Close")},m(n,o){x(n,e,o),i||(r=C(e,"click",t[2]),i=1)},p:n,d(t){t&&w(e),i=0,r()}}}function Vt(t){let e,n,i,r,o,l,c,a,u=t[1]+1+"",d=t[0].length+"";return{c(){e=_("div"),n=k(u),i=k(" / "),r=k(d),o=_("button"),l=_("button"),E(e,"class","bp-count"),E(o,"class","bp-prev"),E(o,"title","Previous"),E(o,"aria-label","Previous"),E(l,"class","bp-next"),E(l,"title","Next"),E(l,"aria-label","Next")},m(s,u){x(s,e,u),y(e,n),y(e,i),y(e,r),x(s,o,u),x(s,l,u),c||(a=[C(o,"click",t[3]),C(l,"click",t[4])],c=1)},p(t,e){2&e[0]&&u!==(u=t[1]+1+"")&&z(n,u),1&e[0]&&d!==(d=t[0].length+"")&&z(r,d)},d(t){t&&w(e),t&&w(o),t&&w(l),c=0,s(a)}}}function te(t){let e,n,i,r,o=t[0]&&Xt(t);return{c(){o&&o.c(),e=I()},m(s,l){o&&o.m(s,l),x(s,e,l),n=1,i||(r=C(qt,"keydown",t[15]),i=1)},p(t,n){t[0]?o?(o.p(t,n),1&n[0]&&nt(o,1)):(o=Xt(t),o.c(),nt(o,1),o.m(e.parentNode,e)):o&&(tt(),it(o,1,1,(()=>{o=null})),et())},i(t){n||(nt(o),n=1)},o(t){it(o),n=0},d(t){o&&o.d(t),t&&w(e),i=0,r()}}}function ee(t,e,n){let i,r;d(t,xt,(t=>n(33,i=t))),d(t,wt,(t=>n(14,r=t)));let o,s,l,c,a,u,f,m,h,g,$,b,{items:y}=e,{position:v}=e,{target:x}=e;const w=()=>{let t=o.items;l=document.activeElement,n(8,a=x.offsetWidth),n(9,u=x===document.body?window.innerHeight:x.clientHeight),n(11,m=769>a),n(1,v=o.position||0),n(10,f=0),n(0,y=Array.isArray(t)?t.map(((t,e)=>({...t,i:e}))):[...t.length?t:[t]].map(((t,e)=>{let i={element:t,i:e};return t===o.el&&n(1,v=e),{...i,...t.dataset}})))},_=()=>{o.noClose||(o.onClose&&o.onClose(),p(xt,i=1,i),n(0,y=0),l&&l.focus({preventScroll:1}))},k=()=>C(v-1),I=()=>C(v+1),C=t=>{g=t-v,n(1,v=E(t))},E=t=>(t===y.length?t=0:0>t&&(t=y.length-1),t),z=(t,e,n)=>{let i,r;n=o.scale||.99;const s=(e=e||1080)/(t=t||1920);return s>u/a?(r=Math.min(e,u*n),i=r/s):(i=Math.min(t,a*n),r=i*s),[Math.round(i),Math.round(r)]},D=t=>{let{img:e,width:n,height:i}=t;if(!e)return;let r=new Image;return r.sizes=o.sizes||z(n,i)[0]+"px",r.srcset=e,t.preload=r,r.decode()},H=t=>{let{element:e}=b,n=t.querySelector(".bp-item"),{clientWidth:i,clientHeight:r}=n,{top:o,left:s,width:l,height:c}=e.getBoundingClientRect(),d=s-(a-l)/2,p=o-(u-c)/2,f=e.clientWidth/i,m=e.clientHeight/r;return{duration:480,easing:mt,css(t){let e=1-t;return`transform:translate3d(${d*e}px, ${p*e}px, 0px) scale3d(${f+t*(1-f)}, ${m+t*(1-m)}, 1)`}}},M=()=>{n(11,m=769>a),o.onResize&&o.onResize(b)};return t.$$set=t=>{"items"in t&&n(0,y=t.items),"position"in t&&n(1,v=t.position),"target"in t&&n(23,x=t.target)},t.$$.update=()=>{227&t.$$.dirty[0]&&y&&(n(7,b=y[v]),c&&o.onUpdate&&o.onUpdate(c,b))},[y,v,_,k,I,o,c,b,a,u,f,m,h,$,r,t=>{if(!s||h)return;let{key:e,shiftKey:n}=t;if("Escape"===e)_();else if("ArrowRight"===e)I();else if("ArrowLeft"===e)k();else if("Tab"===e){let{activeElement:e}=document;if(n||!e.controls){t.preventDefault();let i=[...(o.focusWrap||c).querySelectorAll("*")].filter((t=>t.tabIndex>=0)),r=i.indexOf(e);r+=i.length+(n?-1:1),r%=i.length,i[r].focus()}}},z,()=>{let t=y[E(v+1)],e=y[E(v-1)];!t.preload&&D(t),!e.preload&&D(e)},D,t=>s?gt(t,{x:g>0?20:-20,easing:mt,duration:250}):(s=1,o.onOpen&&o.onOpen(c),o.intro?gt(t,{y:10,easing:mt}):H(t)),t=>y?gt(t,{x:g>0?-20:20,easing:mt,duration:250}):o.intro?gt(t,{y:-10,easing:mt}):H(t),()=>n(10,f=!f),()=>(window.addEventListener("resize",M),{destroy(){window.removeEventListener("resize",M),p(xt,i=s=0,i),Ot.style.overflowY=Wt,jt.style.overflowY=Wt,o.onClosed&&o.onClosed()}}),x,t=>{n(5,o=t),n(12,h=o.inline),h||Ot.scrollHeight>Ot.clientHeight&&(Wt=Wt||getComputedStyle(Ot).overflowY,Yt=Yt||getComputedStyle(jt).overflowY,Ot.style.overflowY="hidden",jt.style.overflowY="scroll"),setTimeout(w,0)},C,({target:t})=>n(13,$=t),({target:t})=>{t===$&&_()},t=>{n(9,u=t.target.clientHeight),n(8,a=t.target.clientWidth)},t=>{W[t?"unshift":"push"]((()=>{c=t,n(6,c)}))}]}class ne extends ft{constructor(t){super(),pt(this,t,ee,te,u,{items:0,position:1,target:23,open:24,close:2,prev:3,next:4,setPosition:25},null,[-1,-1])}get items(){return this.$$.ctx[0]}set items(t){this.$$set({items:t}),F()}get position(){return this.$$.ctx[1]}set position(t){this.$$set({position:t}),F()}get target(){return this.$$.ctx[23]}set target(t){this.$$set({target:t}),F()}get open(){return this.$$.ctx[24]}get close(){return this.$$.ctx[2]}get prev(){return this.$$.ctx[3]}get next(){return this.$$.ctx[4]}get setPosition(){return this.$$.ctx[25]}}e=t=>new ne({...t,intro:1,props:t});export{e as default};
