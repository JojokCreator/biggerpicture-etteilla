function t(){}const n=t=>t;function e(t,n){for(const e in n)t[e]=n[e];return t}function o(t){return t()}function i(t){t.forEach(o)}function r(t){return"function"==typeof t}function u(t,n){return t!=t?n==n:t!==n}function s(n,e,o){n.$$.on_destroy.push(((n,...e)=>{if(null==n)return t;const o=n.subscribe(...e);return o.unsubscribe?()=>o.unsubscribe():o})(e,o))}function c(t,n,e){return t.set(e),n}function l(n){return n&&r(n.destroy)?n.destroy:t}let a=()=>window.performance.now(),f=t=>requestAnimationFrame(t);const d=new Set;function p(t){d.forEach((n=>{n.c(t)||(d.delete(n),n.f())})),0!==d.size&&f(p)}function m(t){let n;return 0===d.size&&f(p),{promise:new Promise((e=>{d.add(n={c:t,f:e})})),abort(){d.delete(n)}}}function h(t,n){t.appendChild(n)}function g(t){const n=w("style");return((t,n)=>{h(t.head||t,n)})(document,n),n.sheet}function b(t,n,e){t.insertBefore(n,e||null)}function x(t){t.parentNode.removeChild(t)}function w(t){return document.createElement(t)}function y(){return document.createTextNode("")}function v(t,n,e,o){return t.addEventListener(n,e,o),()=>t.removeEventListener(n,e,o)}function $(t,n,e){null==e?t.removeAttribute(n):t.getAttribute(n)!==e&&t.setAttribute(n,e)}function k(t,n,e,o){null===e?t.style.removeProperty(n):t.style.setProperty(n,e,o?"important":"")}function _(t,n,e){t.classList[e?"add":"remove"](n)}const S=new Map;let M,z=0;function P(t,n,e,o,i,r,u,s=0){const c=16.666/o;let l="{\n";for(let t=0;1>=t;t+=c){const o=n+(e-n)*r(t);l+=100*t+`%{${u(o,1-o)}}\n`}const a=l+`100% {${u(e,1-e)}}\n}`,f=`bp_${(t=>{let n=5381,e=t.length;for(;e--;)n=(n<<5)-n^t.charCodeAt(e);return n>>>0})(a)}_${s}`,d=document,{stylesheet:p,rules:m}=S.get(d)||((t,n)=>{const e={stylesheet:g(),rules:{}};return S.set(t,e),e})(d);m[f]||(m[f]=1,p.insertRule(`@keyframes ${f} ${a}`,p.cssRules.length));const h=t.style.animation||"";return t.style.animation=`${h?h+", ":""}${f} ${o}ms linear ${i}ms 1 both`,z+=1,f}function C(t,n){const e=(t.style.animation||"").split(", "),o=e.filter(n?t=>0>t.indexOf(n):t=>-1===t.indexOf("__svelte")),i=e.length-o.length;i&&(t.style.animation=o.join(", "),z-=i,z||f((()=>{z||(S.forEach((t=>{const{stylesheet:n}=t;let e=n.cssRules.length;for(;e--;)n.deleteRule(e);t.rules={}})),S.clear())})))}function A(t){M=t}const I=[],R=[],F=[],H=[],N=Promise.resolve();let W=0;function D(t){F.push(t)}const E=new Set;let T,O=0;function j(){const t=M;do{for(;I.length>O;){const t=I[O];O++,A(t),q(t.$$)}for(A(null),I.length=0,O=0;R.length;)R.pop()();for(let t=0;F.length>t;t+=1){const n=F[t];E.has(n)||(E.add(n),n())}F.length=0}while(I.length);for(;H.length;)H.pop()();W=0,E.clear(),A(t)}function q(t){if(null!==t.t){t.update(),i(t.before_update);const n=t.u;t.u=[-1],t.t&&t.t.p(t.ctx,n),t.after_update.forEach(D)}}function J(){return T||(T=Promise.resolve(),T.then((()=>{T=null}))),T}function K(t,n,e){t.dispatchEvent(((t,n,e=0)=>{const o=document.createEvent("CustomEvent");return o.initCustomEvent(t,e,0,n),o})(`${n?"intro":"outro"}${e}`))}const L=new Set;let B;function G(){B={r:0,c:[],p:B}}function Q(){B.r||i(B.c),B=B.p}function U(t,n){t&&t.i&&(L.delete(t),t.i(n))}function V(t,n,e,o){if(t&&t.o){if(L.has(t))return;L.add(t),B.c.push((()=>{L.delete(t),o&&(e&&t.d(1),o())})),t.o(n)}}const X={duration:0};function Y(e,o,i){let u,s,c=o(e,i),l=0,f=0;function d(){u&&C(e,u)}function p(){const{delay:o=0,duration:i=300,l:r=n,h:p=t,css:h}=c||X;h&&(u=P(e,0,1,i,o,r,h,f++)),p(0,1);const g=a()+o,b=g+i;s&&s.abort(),l=1,D((()=>K(e,1,"start"))),s=m((t=>{if(l){if(t>=b)return p(1,0),K(e,1,"end"),d(),l=0;if(t>=g){const n=r((t-g)/i);p(n,1-n)}}return l}))}let h=0;return{start(){h||(h=1,C(e),r(c)?(c=c(),J().then(p)):p())},invalidate(){h=0},end(){l&&(d(),l=0)}}}function Z(e,o,u){let s,c=o(e,u),l=1;const f=B;function d(){const{delay:o=0,duration:r=300,l:u=n,h:d=t,css:p}=c||X;p&&(s=P(e,1,0,r,o,u,p));const h=a()+o,g=h+r;D((()=>K(e,0,"start"))),m((t=>{if(l){if(t>=g)return d(0,1),K(e,0,"end"),--f.r||i(f.c),0;if(t>=h){const n=u((t-h)/r);d(1-n,n)}}return l}))}return f.r+=1,r(c)?J().then((()=>{c=c(),d()})):d(),{end(t){t&&c.h&&c.h(1,0),l&&(s&&C(e,s),l=0)}}}function tt(t){t&&t.c()}function nt(t,n,e,u){const{t:s,on_mount:c,on_destroy:l,after_update:a}=t.$$;s&&s.m(n,e),u||D((()=>{const n=c.map(o).filter(r);l?l.push(...n):i(n),t.$$.on_mount=[]})),a.forEach(D)}function et(t,n){const e=t.$$;null!==e.t&&(i(e.on_destroy),e.t&&e.t.d(n),e.on_destroy=e.t=null,e.ctx=[])}function ot(n,e,o,r,u,s,c,l=[-1]){const a=M;A(n);const f=n.$$={t:null,ctx:null,props:s,update:t,not_equal:u,bound:{},on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(a?a.$$.context:[])),callbacks:{},u:l,skip_bound:0,root:e.target||a.$$.root};c&&c(f.root);let d=0;f.ctx=o?o(n,e.props||{},((t,e,...o)=>{const i=o.length?o[0]:e;return f.ctx&&u(f.ctx[t],f.ctx[t]=i)&&(!f.skip_bound&&f.bound[t]&&f.bound[t](i),d&&((t,n)=>{-1===t.$$.u[0]&&(I.push(t),W||(W=1,N.then(j)),t.$$.u.fill(0)),t.$$.u[n/31|0]|=1<<n%31})(n,t)),e})):[],f.update(),d=1,i(f.before_update),f.t=r?r(f.ctx):0,e.target&&(f.t&&f.t.c(),e.intro&&U(n.$$.t),nt(n,e.target,e.anchor,e.customElement),j()),A(a)}class it{$destroy(){et(this,1),this.$destroy=t}$on(t,n){const e=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return e.push(n),()=>{const t=e.indexOf(n);-1!==t&&e.splice(t,1)}}$set(t){this.$$set&&0!==Object.keys(t).length&&(this.$$.skip_bound=1,this.$$set(t),this.$$.skip_bound=0)}}function rt(t){const n=t-1;return n*n*n+1}function ut(t,{delay:e=0,duration:o=400,l:i=n}={}){const r=+getComputedStyle(t).opacity;return{delay:e,duration:o,l:i,css(t){return"opacity: "+t*r}}}function st(t,{delay:n=0,duration:e=400,l:o=rt,x:i=0,y:r=0,opacity:u=0}={}){const s=getComputedStyle(t),c=+s.opacity,l="none"===s.transform?"":s.transform,a=c*(1-u);return{delay:n,duration:e,l:o,css(t,n){return`\n\t\t\ttransform: ${l} translate(${(1-t)*i}px, ${(1-t)*r}px);\n\t\t\topacity: ${c-a*n}`}}}const ct=[];function lt(n,e=t){let o;const i=new Set;function r(t){if(r=t,((e=n)!=e?r==r:e!==r||e&&"object"==typeof e||"function"==typeof e)&&(n=t,o)){const t=!ct.length;for(const t of i)t[1](),ct.push(t,n);if(t){for(let t=0;ct.length>t;t+=2)ct[t][0](ct[t+1]);ct.length=0}}var e,r}return{set:r,update(t){r(t(n))},subscribe(u,s=t){const c=[u,s];return i.add(c),1===i.size&&(o=e(r)||t),u(n),()=>{i.delete(c),0===i.size&&(o(),o=null)}}}}function at(t,n){if(t===n||t!=t)return()=>t;const e=typeof t;if(Array.isArray(t)){const e=n.map(((n,e)=>at(t[e],n)));return t=>e.map((n=>n(t)))}if("number"===e){const e=n-t;return n=>t+n*e}}function ft(t,o={}){const i=lt(t);let r,u=t;function s(s,c){if(null==t)return i.set(t=s),Promise.resolve();u=s;let l=r,f=0,{delay:d=0,duration:p=400,l:h=n,interpolate:g=at}=e(e({},o),c);if(0===p)return l&&(l.abort(),l=null),i.set(t=u),Promise.resolve();const b=a()+d;let x;return r=m((n=>{if(b>n)return 1;f||(x=g(t,s),"function"==typeof p&&(p=p(t,s)),f=1),l&&(l.abort(),l=null);const e=n-b;return e>p?(i.set(t=s),0):(i.set(t=x(h(e/p))),1)})),r.promise}return{set:s,update(n,e){return s(n(u,t),e)},subscribe:i.subscribe}}const dt=lt(0),pt=lt(0),mt={l:rt,duration:matchMedia("(prefers-reduced-motion: reduce)").matches?0:400};function ht(t){let n,e,o,i,r=!t[2]&&gt();return{c(){n=w("div"),r&&r.c(),$(n,"class","bp-load"),k(n,"background-image","url("+t[0]+")")},m(t,e){b(t,n,e),r&&r.m(n,null),i=1},p(e,o){(t=e)[2]?r&&(r.d(1),r=null):r||(r=gt(),r.c(),r.m(n,null)),(!i||1&o)&&k(n,"background-image","url("+t[0]+")")},i(r){i||(D((()=>{o&&o.end(1),e=Y(n,ut,{duration:t[1]?300:0}),e.start()})),i=1)},o(t){e&&e.invalidate(),t&&(o=Z(n,ut,{duration:200})),i=0},d(t){t&&x(n),r&&r.d(),t&&o&&o.end()}}}function gt(t){let n,e;return{c(){n=w("span"),e=w("span"),$(n,"class","bp-bar"),$(e,"class","bp-o")},m(t,o){b(t,n,o),b(t,e,o)},d(t){t&&x(n),t&&x(e)}}}function bt(t){let n,e=(!t[1]||t[2])&&ht(t);return{c(){e&&e.c(),n=y()},m(t,o){e&&e.m(t,o),b(t,n,o)},p(t,[o]){!t[1]||t[2]?e?(e.p(t,o),6&o&&U(e,1)):(e=ht(t),e.c(),U(e,1),e.m(n.parentNode,n)):e&&(G(),V(e,1,1,(()=>{e=null})),Q())},i(t){U(e)},o(t){V(e)},d(t){e&&e.d(t),t&&x(n)}}}function xt(t,n,e){let o;s(t,dt,(t=>e(2,o=t)));let{thumb:i}=n,{loaded:r}=n;return t.$$set=t=>{"thumb"in t&&e(0,i=t.thumb),"loaded"in t&&e(1,r=t.loaded)},[i,r,o]}class wt extends it{constructor(t){super(),ot(this,t,xt,bt,u,{thumb:0,loaded:1})}}function yt(t){let n,e,o,i;return{c(){n=w("img"),$(n,"srcset",t[8]),$(n,"sizes",e=t[7].sizes||t[1]+"px"),$(n,"alt",t[10])},m(t,e){b(t,n,e),i=1},p(t,o){(!i||2&o[0]&&e!==(e=t[7].sizes||t[1]+"px"))&&$(n,"sizes",e)},i(t){i||(o&&o.end(1),i=1)},o(t){o=Z(n,ut,{}),i=0},d(t){t&&x(n),t&&o&&o.end()}}}function vt(t){let n,e;return n=new wt({props:{thumb:t[9],loaded:t[2]}}),{c(){tt(n.$$.t)},m(t,o){nt(n,t,o),e=1},p(t,e){const o={};4&e[0]&&(o.loaded=t[2]),n.$set(o)},i(t){e||(U(n.$$.t,t),e=1)},o(t){V(n.$$.t,t),e=0},d(t){et(n,t)}}}function $t(t){let n,e,o,r,u,s,c=t[2]&&yt(t),a=t[3]&&vt(t);return{c(){n=w("div"),e=w("div"),c&&c.c(),o=y(),a&&a.c(),$(e,"class","bp-img"),k(e,"background-image","url("+t[9]+")"),k(e,"width",t[0][0]+"px"),k(e,"height",t[0][1]+"px"),k(e,"transform","translate3d("+(t[0][0]/-2+t[6][0])+"px, "+(t[0][1]/-2+t[6][1])+"px, 0)"),$(n,"class","bp-img-wrap"),_(n,"bp-drag",t[4]),_(n,"bp-close",t[5])},m(i,f){b(i,n,f),h(n,e),c&&c.m(e,null),h(e,o),a&&a.m(e,null),r=1,u||(s=[l(t[17].call(null,n)),v(n,"wheel",t[13]),v(n,"pointerdown",t[14]),v(n,"pointermove",t[15]),v(n,"pointerup",t[16]),v(n,"pointercancel",t[16])],u=1)},p(t,i){t[2]?c?(c.p(t,i),4&i[0]&&U(c,1)):(c=yt(t),c.c(),U(c,1),c.m(e,o)):c&&(G(),V(c,1,1,(()=>{c=null})),Q()),t[3]?a?(a.p(t,i),8&i[0]&&U(a,1)):(a=vt(t),a.c(),U(a,1),a.m(e,null)):a&&(G(),V(a,1,1,(()=>{a=null})),Q()),(!r||1&i[0])&&k(e,"width",t[0][0]+"px"),(!r||1&i[0])&&k(e,"height",t[0][1]+"px"),(!r||65&i[0])&&k(e,"transform","translate3d("+(t[0][0]/-2+t[6][0])+"px, "+(t[0][1]/-2+t[6][1])+"px, 0)"),16&i[0]&&_(n,"bp-drag",t[4]),32&i[0]&&_(n,"bp-close",t[5])},i(t){r||(U(c),U(a),r=1)},o(t){V(c),V(a),r=0},d(t){t&&x(n),c&&c.d(),a&&a.d(),u=0,i(s)}}}function kt(t,n,e){let o,i,r,u;s(t,pt,(t=>e(23,i=t))),s(t,dt,(t=>e(24,r=t)));let l,a,f,d,p,m,h,g,b,x,w,{g:y}=n,{v}=n,{$}=n,{k}=n,{_,S,M,P:z,opts:P,prev:C,next:A,close:I,C:R,A:F}=y,{inline:H}=P,{img:N,thumb:W,alt:D,width:E,height:T}=_,O=_.maxZoom||P.maxZoom||10,j=+E,q=+T,J=S(j,q),K=J[0],L=[],B=[],G=0;const Q=ft(J,mt);s(t,Q,(t=>e(0,u=t)));const U=ft([0,0],mt);s(t,U,(t=>e(6,o=t)));const V=([t,n],o=u)=>{const i=(o[0]-v)/2,r=(o[1]-$)/2;return 0>i?t=0:t>i?k?(t=d?i+(t-i)/10:i)>i+20&&e(4,d=C()):t=i:-i>t&&(k?-i-20>(t=d?-i-(-i-t)/10:-i)&&e(4,d=A()):t=-i),0>r?n=0:n>r?n=r:-r>n&&(n=-r),[t,n]},X=(t,n=O)=>{if(r)return;const i=J[0]*O,[s,c]=u;let l=s+s*n,a=c+c*n;if(n>0)l>i&&(l=i,a=J[1]*O),l>j&&(l=j,a=q);else if(J[0]>l)return Q.set(J),U.set([0,0]);let{x:f,y:d,width:p,height:m}=t.target.getBoundingClientRect();const h=t.clientX-f-p/2,g=t.clientY-d-m/2;f=l/p*-h+h,d=a/m*-g+g;const b=[l,a];Q.set(b).then((()=>{e(1,K=Math.round(Math.max(K,l)))})),U.set(V([o[0]+f,o[1]+d],b))};return t.$$set=t=>{"g"in t&&e(18,y=t.g),"v"in t&&e(19,v=t.v),"$"in t&&e(20,$=t.$),"k"in t&&e(21,k=t.k)},t.$$.update=()=>{4194305&t.$$.u[0]&&c(pt,i=u[0]>J[0],i),25165824&t.$$.u[0]&&r&&i&&!P.intro&&(e(5,w=1),U.set([0,0]))},[u,K,l,a,d,w,o,P,N,W,D,Q,U,t=>{H&&!i||(t.preventDefault(),X(t,t.deltaY/-300))},t=>{2!==t.button&&(t.preventDefault(),e(4,d=1),L.push(t),m=t.clientX,h=t.clientY,g=o[0],b=o[1])},t=>{if(L.length>1)return f=1,e(4,d=0),(t=>{L=L.map((n=>n.pointerId===t.pointerId?t:n));const[n,e]=L,o=Math.hypot(n.clientX-e.clientX,n.clientY-e.clientY);G=G||o,X(t,-.03*(G-o)),G=o})(t);if(!d)return;let n=t.clientX,o=t.clientY;B.push({x:n,y:o}),n-=m,o-=h,i||(n>40&&e(4,d=C()),-40>n&&e(4,d=A()),-90>o&&!P.noClose&&I()),p=B.length>2,i&&p&&!r&&U.set(V([g+n,b+o]),{duration:0})},function(t){if(L=L.filter((n=>n.pointerId!==t.pointerId)),f)return f=L.length,void(G=0);if(d){if(e(4,d=0),t.target===this&&!P.noClose)return I();if(k?p||(x?(clearTimeout(x),X(t,i?-5:5),x=0):x=setTimeout((()=>{R(),x=0}),250)):i?p||X(t,-5):2>B.length&&!i&&X(t),p){let t;B=B.slice(-3);let n=B[1].x-B[2].x,e=B[1].y-B[2].y;Math.hypot(n,e)>5?(n=B[0].x-B[2].x,e=B[0].y-B[2].y,t=[o[0]-5*n,o[1]-5*e]):t=o,U.set(V(t))}p=0,B=[]}},()=>{F((()=>{e(22,J=S(j,q)),k||(Q.set(J),U.set([0,0]))})),M(_).then((()=>{e(2,l=1),z()})),setTimeout((()=>{e(3,a=!l)}),250)},y,v,$,k,J,i,r]}class _t extends it{constructor(t){super(),ot(this,t,kt,$t,u,{g:18,v:19,$:20,k:21},null,[-1,-1])}}function St(t){let n,e,o,r,u,s;return o=new wt({props:{thumb:t[2],loaded:t[0]}}),{c(){n=w("div"),e=w("iframe"),tt(o.$$.t),$(e,"allow","autoplay; fullscreen"),$(e,"title",t[3]),$(n,"class","bp-if"),k(n,"width",t[1][0]+"px"),k(n,"height",t[1][1]+"px")},m(i,c){b(i,n,c),h(n,e),nt(o,n,null),r=1,u||(s=[l(t[4].call(null,e)),v(e,"load",t[6])],u=1)},p(t,[e]){const i={};1&e&&(i.loaded=t[0]),o.$set(i),(!r||2&e)&&k(n,"width",t[1][0]+"px"),(!r||2&e)&&k(n,"height",t[1][1]+"px")},i(t){r||(U(o.$$.t,t),r=1)},o(t){V(o.$$.t,t),r=0},d(t){t&&x(n),et(o),u=0,i(s)}}}function Mt(t,n,e){let o,i,{g:r}=n;const{_:u,S:s,A:c}=r,{iframe:l,thumb:a,title:f,width:d,height:p}=u,m=()=>e(1,i=s(d,p));return m(),c(m),t.$$set=t=>{"g"in t&&e(5,r=t.g)},[o,i,a,f,t=>t.src=l,r,()=>e(0,o=1)]}class zt extends it{constructor(t){super(),ot(this,t,Mt,St,u,{g:5})}}function Pt(t){let n,e,o,i,r;return e=new wt({props:{thumb:t[2],loaded:t[0]}}),{c(){n=w("div"),tt(e.$$.t),$(n,"class","bp-vid"),k(n,"width",t[1][0]+"px"),k(n,"height",t[1][1]+"px"),k(n,"background-image","url("+t[2]+")")},m(u,s){b(u,n,s),nt(e,n,null),o=1,i||(r=l(t[3].call(null,n)),i=1)},p(t,[i]){const r={};1&i&&(r.loaded=t[0]),e.$set(r),(!o||2&i)&&k(n,"width",t[1][0]+"px"),(!o||2&i)&&k(n,"height",t[1][1]+"px")},i(t){o||(U(e.$$.t,t),o=1)},o(t){V(e.$$.t,t),o=0},d(t){t&&x(n),et(e),i=0,r()}}}function Ct(t,n,e){let o,i,{g:r}=n;const{_:u,S:s,A:c}=r,{sources:l,thumb:a,tracks:f=[],width:d,height:p}=u,m=()=>e(1,i=s(d,p));m(),c(m);const g=(t,n)=>{for(let e in n)$(t,e,n[e])};return t.$$set=t=>{"g"in t&&e(4,r=t.g)},[o,i,a,t=>{let n;const i=(t,e)=>{Array.isArray(e)||(e=JSON.parse(e)),e.forEach((e=>{n||(n=w(e.type?.includes("audio")?"audio":"video"),g(n,{controls:1,autoplay:1,playsinline:1,tabindex:"0"}));const o=w(t);g(o,e),h(n,o)}))};i("source",l),i("track",f),v(n,"canplay",(()=>e(0,o=1))),h(t,n)},r]}class At extends it{constructor(t){super(),ot(this,t,Ct,Pt,u,{g:4})}}function It(n){let e,o,i,r,s,c,a,f,d=n[6].i,p=Dt(n),m=(!n[10]||!n[9])&&Et(n);return{c(){e=w("div"),o=w("div"),p.c(),r=y(),m&&m.c(),$(e,"class","bp-wrap"),_(e,"zoomed",n[13]),_(e,"bp-inline",n[11]),_(e,"bp-noclose",n[5].noClose)},m(t,i){b(t,e,i),h(e,o),p.m(e,null),h(e,r),m&&m.m(e,null),c=1,a||(f=l(s=n[16].call(null,e)),a=1)},p(o,i){n=o,64&i[0]&&u(d,d=n[6].i)?(G(),V(p,1,1,t),Q(),p=Dt(n),p.c(),U(p),p.m(e,r)):p.p(n,i),n[10]&&n[9]?m&&(G(),V(m,1,1,(()=>{m=null})),Q()):m?(m.p(n,i),1536&i[0]&&U(m,1)):(m=Et(n),m.c(),U(m,1),m.m(e,null)),8192&i[0]&&_(e,"zoomed",n[13]),2048&i[0]&&_(e,"bp-inline",n[11]),32&i[0]&&_(e,"bp-noclose",n[5].noClose)},i(t){c||(i&&i.end(1),U(p),U(m),c=1)},o(t){i=Z(o,ut,{l:rt,duration:480}),V(p),V(m),c=0},d(t){t&&x(e),t&&i&&i.end(),p.d(t),m&&m.d(),a=0,f()}}}function Rt(n){let e,o=n[6].html+"";return{c(){e=w("div"),$(e,"class","bp-html")},m(t,n){b(t,e,n),e.innerHTML=o},p(t,n){64&n[0]&&o!==(o=t[6].html+"")&&(e.innerHTML=o)},i:t,o:t,d(t){t&&x(e)}}}function Ft(n){let e,o;return e=new zt({props:{g:n[15]()}}),{c(){tt(e.$$.t)},m(t,n){nt(e,t,n),o=1},p:t,i(t){o||(U(e.$$.t,t),o=1)},o(t){V(e.$$.t,t),o=0},d(t){et(e,t)}}}function Ht(n){let e,o;return e=new At({props:{g:n[15]()}}),{c(){tt(e.$$.t)},m(t,n){nt(e,t,n),o=1},p:t,i(t){o||(U(e.$$.t,t),o=1)},o(t){V(e.$$.t,t),o=0},d(t){et(e,t)}}}function Nt(t){let n,e;return n=new _t({props:{g:t[15](),v:t[7],$:t[8],k:t[10]}}),{c(){tt(n.$$.t)},m(t,o){nt(n,t,o),e=1},p(t,e){const o={};128&e[0]&&(o.v=t[7]),256&e[0]&&(o.$=t[8]),1024&e[0]&&(o.k=t[10]),n.$set(o)},i(t){e||(U(n.$$.t,t),e=1)},o(t){V(n.$$.t,t),e=0},d(t){et(n,t)}}}function Wt(t){let n,e,o,i=t[6].caption+"";return{c(){n=w("div"),$(n,"class","bp-cap"),$(n,"tabindex","0")},m(t,e){b(t,n,e),n.innerHTML=i,o=1},p(t,e){(!o||64&e[0])&&i!==(i=t[6].caption+"")&&(n.innerHTML=i)},i(t){o||(e&&e.end(1),o=1)},o(t){e=Z(n,ut,{duration:200}),o=0},d(t){t&&x(n),t&&e&&e.end()}}}function Dt(t){let n,e,o,r,u,s,c,l,a;const f=[Nt,Ht,Ft,Rt],d=[];function p(t,n){return t[6].img?0:t[6].sources?1:t[6].iframe?2:3}e=p(t),o=d[e]=f[e](t);let m=t[6].caption&&Wt(t);return{c(){n=w("div"),o.c(),m&&m.c(),s=y(),$(n,"class","bp-inner")},m(o,i){b(o,n,i),d[e].m(n,null),m&&m.m(o,i),b(o,s,i),c=1,l||(a=[v(n,"pointerdown",t[23]),v(n,"pointerup",t[24])],l=1)},p(t,i){let r=e;e=p(t),e===r?d[e].p(t,i):(G(),V(d[r],1,1,(()=>{d[r]=null})),Q(),o=d[e],o?o.p(t,i):(o=d[e]=f[e](t),o.c()),U(o,1),o.m(n,null)),t[6].caption?m?(m.p(t,i),64&i[0]&&U(m,1)):(m=Wt(t),m.c(),U(m,1),m.m(s.parentNode,s)):m&&(G(),V(m,1,1,(()=>{m=null})),Q())},i(e){c||(U(o),D((()=>{u&&u.end(1),r=Y(n,t[14],1),r.start()})),U(m),c=1)},o(e){V(o),r&&r.invalidate(),u=Z(n,t[14],0),V(m),c=0},d(t){t&&x(n),d[e].d(),t&&u&&u.end(),m&&m.d(t),t&&x(s),l=0,i(a)}}}function Et(t){let n,e,o,i,r,u,s=t[0].length>1&&Tt(t);return{c(){n=w("div"),e=w("button"),s&&s.c(),$(e,"class","bp-x"),$(e,"title","Close"),$(e,"aria-label","Close"),$(n,"class","bp-controls")},m(o,c){b(o,n,c),h(n,e),s&&s.m(n,null),i=1,r||(u=v(e,"click",t[1]),r=1)},p(t,e){t[0].length>1?s?s.p(t,e):(s=Tt(t),s.c(),s.m(n,null)):s&&(s.d(1),s=null)},i(t){i||(o&&o.end(1),i=1)},o(t){o=Z(n,ut,{duration:300}),i=0},d(t){t&&x(n),s&&s.d(),t&&o&&o.end(),r=0,u()}}}function Tt(t){let n,e,o,r,u,s=`${t[4]+1} / ${t[0].length}`;return{c(){n=w("div"),e=w("button"),o=w("button"),$(n,"class","bp-count"),$(e,"class","bp-prev"),$(e,"title","Previous"),$(e,"aria-label","Previous"),$(o,"class","bp-next"),$(o,"title","Next"),$(o,"aria-label","Next")},m(i,c){b(i,n,c),n.innerHTML=s,b(i,e,c),b(i,o,c),r||(u=[v(e,"click",t[2]),v(o,"click",t[3])],r=1)},p(t,e){17&e[0]&&s!==(s=`${t[4]+1} / ${t[0].length}`)&&(n.innerHTML=s)},d(t){t&&x(n),t&&x(e),t&&x(o),r=0,i(u)}}}function Ot(t){let n,e,o=t[0]&&It(t);return{c(){o&&o.c(),n=y()},m(t,i){o&&o.m(t,i),b(t,n,i),e=1},p(t,e){t[0]?o?(o.p(t,e),1&e[0]&&U(o,1)):(o=It(t),o.c(),U(o,1),o.m(n.parentNode,n)):o&&(G(),V(o,1,1,(()=>{o=null})),Q())},i(t){e||(U(o),e=1)},o(t){V(o),e=0},d(t){o&&o.d(t),t&&x(n)}}}function jt(t,n,e){let o,i;s(t,dt,(t=>e(28,o=t))),s(t,pt,(t=>e(13,i=t)));let{items:r}=n,{target:u}=n;const{documentElement:l}=document;let a,f,d,p,m,h,g,b,x,y,$,k,_,S,M;const z=t=>M=t,P=()=>{f.onClose?.(),c(dt,o=1,o),e(0,r=null),p?.focus({preventScroll:1})},C=()=>I(a-1),A=()=>I(a+1),I=t=>{$=t-a,e(4,a=R(t))},R=t=>(t+r.length)%r.length,F=t=>{const{key:n,shiftKey:e}=t;if("Escape"===n)!f.noClose&&P();else if("ArrowRight"===n)A();else if("ArrowLeft"===n)C();else if("Tab"===n){const{activeElement:n}=document;if(e||!n.controls){t.preventDefault();const o=[...(f.focusWrap||m).querySelectorAll("*")].filter((t=>t.tabIndex>=0));let i=o.indexOf(n);i+=o.length+(e?-1:1),o[i%o.length].focus()}}},H=(t,n)=>{const e=f.scale||.99,o=(n=n||1080)/(t=t||1920);return o>g/h?t=(n=Math.min(n,g*e))/o:n=(t=Math.min(t,h*e))*o,[Math.round(t),Math.round(n)]},N=()=>{if(r){const t=r[R(a+1)],n=r[R(a-1)];!t.preload&&W(t),!n.preload&&W(n)}},W=t=>{const{img:n,width:e,height:o}=t;if(!n)return;const i=w("img");return i.sizes=f.sizes||H(e,o)[0]+"px",i.srcset=n,t.preload=1,i.decode()},D=()=>e(9,b=!b);return t.$$set=t=>{"items"in t&&e(0,r=t.items),"target"in t&&e(17,u=t.target)},t.$$.update=()=>{7340145&t.$$.u[0]&&r&&(e(6,_=r[a]),e(22,S=_.hasOwnProperty("html")),d&&(S&&z(null),f.onUpdate?.(m,_)))},[r,P,C,A,a,f,_,h,g,b,x,y,k,i,(t,n)=>d&&r?st(t,{x:($>0?20:-20)*(n?1:-1),l:rt,duration:250}):(e(20,d=n),f.intro?st(t,{y:n?10:-10,l:rt}):(t=>{let n=t.firstElementChild;(_.img||S)&&(n=n.firstElementChild);const e=_.element||p,{clientWidth:o,clientHeight:i}=n,{top:r,left:u,width:s,height:c}=e.getBoundingClientRect(),l=u-(h-s)/2,a=r-(g-c)/2,f=e.clientWidth/o,d=e.clientHeight/i;return{duration:480,l:rt,css(t){const n=1-t;return`transform:translate3d(${l*n}px, ${a*n}px, 0) scale3d(${f+t*(1-f)}, ${d+t*(1-d)}, 1)`}}})(t)),()=>({_,S:H,M:W,P:N,opts:f,prev:C,next:A,close:P,C:D,A:z}),t=>{let n,i;e(21,m=t),f.onOpen?.(m,_),y||(n=v(window,"keydown",F));const r=new ResizeObserver((t=>{i&&(e(7,h=t[0].contentRect.width),e(8,g=t[0].contentRect.height),e(10,x=769>h),M?.(),f.onResize?.(m,_)),i=1}));return r.observe(t),{destroy(){r.disconnect(),n?.(),c(dt,o=0,o),l.classList.remove("bp-lock"),f.onClosed?.()}}},u,t=>{e(5,f=t),e(11,y=f.inline);const n=f.items;!y&&l.scrollHeight>l.clientHeight&&l.classList.add("bp-lock"),p=document.activeElement,e(7,h=u.offsetWidth),e(8,g=u===document.body?window.innerHeight:u.clientHeight),e(10,x=769>h),e(4,a=f.position||0),e(9,b=0),e(0,r=Array.isArray(n)?n.map(((t,n)=>(f.el&&f.el===t.element&&e(4,a=n),{i:n,...t}))):(n.length?[...n]:[n]).map(((t,n)=>(f.el===t&&e(4,a=n),{element:t,i:n,...t.dataset}))))},I,d,m,S,t=>e(12,k=t.target),function(t){2!==t.button&&t.target===this&&k===this&&!f.noClose&&P()}]}class qt extends it{constructor(t){super(),ot(this,t,jt,Ot,u,{items:0,target:17,open:18,close:1,prev:2,next:3,setPosition:19},null,[-1,-1])}get items(){return this.$$.ctx[0]}get target(){return this.$$.ctx[17]}get open(){return this.$$.ctx[18]}get close(){return this.$$.ctx[1]}get prev(){return this.$$.ctx[2]}get next(){return this.$$.ctx[3]}get setPosition(){return this.$$.ctx[19]}}function Jt(t){return new qt({...t,props:t})}export{Jt as default};
